(()=>{let e$=Object.defineProperty,f$=Object.hasOwnProperty,h$={},j$,k$=a$=>{let b$=h$[a$];return b$||(b$=h$[a$]={exports:{}},j$[a$](b$.exports,b$)),b$.exports},l$=a$=>{if(a$&&a$.__esModule)return a$;let b$={};for(let c$ in a$)f$.call(a$,c$)&&(b$[c$]=a$[c$]);return b$.default=a$,b$},p$=a$=>l$(k$(a$)),q$=(a$,b$)=>{e$(a$,"__esModule",{value:!0});for(let c$ in b$)e$(a$,c$,{get:b$[c$],enumerable:!0})};j$={23(){const Z={player:{name:"Anonymous",crew:void 0},gameUiData:{isEasy:!0,isSimpleGame:!1,lost:!1,modalOpen:!0,modalId:"chooseGameType",modalButtonText:void 0,phaseChange:!0,phase:0,activeTurn:0,turnOrder:["Anonymous"],selectedDice:[],crewOnMission:{},selectedMissionLvl:void 0,selectedMissionId:void 0,currentCrewAbility:void 0,lastAbilityUsed:void 0,mojoAbility:void 0,players:{Anonymous:"mrsroboto"}},missions:{lvlOne:{weapons:{simpleMissionTarget:5,isSelected:!1,succeeded:!1,imgBkgrd:"weapons",imgLayerFrame:"rule-greater-than",imgLayerTarget:void 0,targetNumber:15,targetRuleText:"Roll total greater than 15",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlThreeOver",name:"Weapons",story:""},powerCore:{simpleMissionTarget:4,isSelected:!1,succeeded:!1,imgBkgrd:"power-core",imgLayerFrame:"rule-greater-than",imgLayerTarget:void 0,targetNumber:10,targetRuleText:"Roll total greater than 10",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlTwoOver",name:"Power Core",story:""},dockingBay:{simpleMissionTarget:3,isSelected:!1,succeeded:!1,imgBkgrd:"docking-bay",imgLayerFrame:"rule-greater-than",imgLayerTarget:void 0,targetNumber:5,targetRuleText:"Roll total greater than 5",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlOneOver",name:"Docking Bay",story:""}},lvlTwo:{scienceBay:{simpleMissionTarget:5,isSelected:!1,succeeded:!1,imgBkgrd:"science-bay",imgLayerFrame:"rule-roll-exactly",imgLayerTarget:"die-roll-one-two-three",targetNumber:void 0,targetRuleText:"Roll a 1, 2, and 3",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlThreeNum",name:"Science Bay",story:""},medicalBay:{simpleMissionTarget:4,isSelected:!1,succeeded:!1,imgBkgrd:"medical-bay",imgLayerFrame:"rule-roll-exactly",imgLayerTarget:"die-roll-four-five",targetNumber:void 0,targetRuleText:"Roll a 4, and 5",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlTwoNum",name:"Medical Bay",story:""},engineRoom:{simpleMissionTarget:3,isSelected:!1,succeeded:!1,imgBkgrd:"engine-room",imgLayerFrame:"rule-roll-exactly",imgLayerTarget:"die-roll-six",targetNumber:void 0,targetRuleText:"Roll a 6",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlOneNum",name:"Engine Room",story:""}},lvlThree:{bridge:{simpleMissionTarget:5,isSelected:!1,succeeded:!1,imgBkgrd:"bridge",imgLayerFrame:"rule-less-than",imgLayerTarget:void 0,targetNumber:6,targetRuleText:"Roll total less than 6",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlThreeUnder",name:"Bridge",story:""},messHall:{simpleMissionTarget:4,isSelected:!1,succeeded:!1,failed:!1,imgBkgrd:"mess-hall",imgLayerFrame:"rule-less-than",imgLayerTarget:void 0,targetNumber:8,targetRuleText:"Roll total less than 8",imgBack:"die-roll-two-same",successCheck:"lvlTwoUnder",name:"Mess Hall",story:""},dormitory:{simpleMissionTarget:3,isSelected:!1,succeeded:!1,imgBkgrd:"dormitory",imgLayerFrame:"rule-less-than",imgLayerTarget:void 0,targetNumber:12,targetRuleText:"Roll total less than 12",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlOneUnder",name:"Dormitory",story:""}}},crew:{mrsRoboto:{die:1,rolling:!1,animations:2,name:"Mrs. Roboto",isSelected:!1,isActive:"active",abilityText:"Reroll any one die",ability:"rerollOne",triggers:{},img:"mrs-roboto",madnessLevel:0,traits:{negative:!0,"self-centered":!0,fidgety:!0}},ambassadorAldren:{die:1,rolling:!1,animations:4,name:"Ambassador Aldren",isSelected:!1,isActive:"active",abilityText:"Reroll any two dice",ability:"rerollTwo",triggers:{},img:"ambassador-alden",madnessLevel:0,traits:{screams:!0,micromanager:!0,stubborn:!0}},lariLuckybeard:{die:1,rolling:!1,animations:3,name:"Lari Luckybeard",isSelected:!1,isActive:"active",abilityText:"Add one to a die",ability:"addOne",triggers:{},img:"lari-luckybeard",madnessLevel:0,traits:{"space diva":!0,mummbles:!0,braggart:!0}},drJohnJohnson:{die:1,rolling:!1,animations:1,name:"Dr. John Johnson",isSelected:!1,isActive:"active",abilityText:"Add two to a die",ability:"addTwo",triggers:{},img:"dr-john-johnson",madnessLevel:0,traits:{"nerd bully":!0,"bad puns":!0,"space nudist":!0}},subEnsignHammer:{die:1,rolling:!1,animations:2,name:"Sub-ensign Hammer",isSelected:!1,isActive:"active",abilityText:"Subtract one from a die",ability:"subtractOne",triggers:{},img:"sub-ensign-hammer",madnessLevel:0,traits:{lazy:!0,rude:!0,lecherous:!0}},eliTheStowaway:{die:1,rolling:!1,animations:4,name:"Eli the Stowaway",isSelected:!1,isActive:"active",abilityText:"Subtract two from a die",ability:"subtractTwo",triggers:{},img:"eli-the-stowaway",madnessLevel:0,traits:{"humms loudly":!0,irrational:!0,"ignores rules":!0}},pilotMoxyGoodwhistle:{die:1,rolling:!1,animations:1,name:"Pilot Moxy Goodwhistle",isSelected:!1,isActive:"active",abilityText:"Flip a die over",ability:"flip",triggers:{},img:"moxy-goodwhistle",madnessLevel:0,traits:{condescending:!0,"space cultist":!0,"compulsive liar":!0}},ltMojo:{die:1,rolling:!1,animations:3,name:"Lt. Mojo",isSelected:!1,isActive:"active",abilityText:"Use another crew members ability",ability:"chooseAbility",triggers:{},img:"mojo",madnessLevel:0,traits:{"space fetishist":!0,pretentious:!0,entitled:!0}}}},Eb=["Frayed wire","Hull breach","Exploding console","Trampoline","Laser show","Escaped experiment","Space werewolves","Space aliens","Space ghosts","Space vampires","Time bomb","Space leprechaun","Creepy murder child","Giant space ant","Space cultist","Space dragon","Space policeman","Alien sport hunter","Fire","Carnivorous plants","Cthulhu","Velociraptors","Bounty hunters","Metal eating robots","Evil Santa","Overflowing toilet","Shape shifter","Robots!","Samurai duel","30 kindergardeners","Plethora of puppies"];const td=p$(3);var Ta=typeof document!=="object",Aa=function(a){var b="raw",d=function(c){return/(Firefox|Safari)\/(\d+)/.test(c)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(c)},e=d((document.defaultView.navigator||{}).userAgent),j=!(b in a)||a.propertyIsEnumerable(b)||!Object.isFrozen(a[b]);if(e||j){var k={},l=function(c){for(var h=".",i=0;i<c.length;i++)h+=c[i].length+"."+c[i];return k[h]||(k[h]=c)};if(j)Aa=l;else{var g=new td.default(),f=function(c,h){return g.set(c,h),h};Aa=function(c){return g.get(c)||f(c,l(c))}}}else Ta=!0;return Ua(a)};const Nb=Ua;function Ua(a){return Ta?a:Aa(a)}function Ob(a){for(var b=arguments.length,d=[Nb(a)],e=1;e<b;)d.push(arguments[e++]);return d}var K="-"+Math.random().toFixed(6)+"%",ha=!1;try{(function(a,b,d){return b in a&&(a.innerHTML="<p "+d+'="'+K+'"></p>',a[b].childNodes[0].getAttribute(d)==K)})(document.createElement("template"),"content","tabindex")||(K="_dt: "+K.slice(1,-1)+";",ha=!0)}catch(a){}var _="<!--"+K+"-->",Wa=8,Qb=11,Xa=1,Ya=3,Ba=/^(?:style|textarea)$/i,Za=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;function ab(a){return a.join(_).replace(cc,gc).replace(bc,ec)}var ka=" \\f\\n\\r\\t",bb="[^"+ka+`\\/>"'=]+`,Da="["+ka+"]+"+bb,cb="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",db=`(?:\\s*=\\s*(?:'[^']*?'|"[^"]*?"|<[^>]*?>|`+bb.replace("\\/","")+"))?)",bc=new RegExp(cb+Da+db+"+)(["+ka+"]*/?>)","g"),cc=new RegExp(cb+Da+db+"*)(["+ka+"]*/>)","g"),dc=new RegExp("("+Da+`\\s*=\\s*)(['"]?)`+_+"\\2","gi");function ec(a,b,d,e){return"<"+b+d.replace(dc,fc)+e}function fc(a,b,d){return b+(d||'"')+K+(d||'"')}function gc(a,b,d){return Za.test(b)?a:"<"+b+d+"></"+b+">"}const{isArray:ea}=Array,{indexOf:$a,slice:Y}=[];const Ea=a=>({get:b=>a.get(b),set:(b,d)=>(a.set(b,d),d)});const Yc=1,Db=111,Zc=({firstChild:a,lastChild:b})=>{const d=document.createRange();return d.setStartAfter(a),d.setEndAfter(b),d.deleteContents(),a};const Tc=(a,b)=>a.nodeType===Db?1/b<0?b?Zc(a):a.lastChild:b?a.valueOf():a.firstChild:a,Kc=a=>{const{childNodes:b}=a,{length:d}=b;if(d<2)return b[0];const e=Y.call(b,0),j=e[0],k=e[d-1];return{ELEMENT_NODE:Yc,nodeType:Db,firstChild:j,lastChild:k,valueOf(){if(b.length!==d){let l=0;for(;l<d;)a.appendChild(e[l++])}return a}}};var Ib=function(a){"use strict";var b="fragment",d="template",e="content"in l(d),j=e?function(f){var c=l(d);return c.innerHTML=f,c.content}:function(f){var c=l(b),h=l(d),i=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(f)){var m=RegExp.$1;h.innerHTML="<table>"+f+"</table>",i=h.querySelectorAll(m)}else h.innerHTML=f,i=h.childNodes;return k(c,i),c};return function f(c,h){return(h==="svg"?g:j)(c)};function k(f,c){for(var h=c.length;h--;)f.appendChild(c[0])}function l(f){return f===b?a.createDocumentFragment():a.createElementNS("http://www.w3.org/1999/xhtml",f)}function g(f){var c=l(b),h=l("div");return h.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+f+"</svg>",k(c,h.firstChild.childNodes),c}}(document);const Jb=Ib;const R=(a,b,d,e,j,k)=>{const l="selectedIndex"in b;let g=l;for(;e<j;){const f=a(d[e],1);b.insertBefore(f,k);if(l&&g&&f.selected){g=!g;let{selectedIndex:c}=b;b.selectedIndex=c<0?e:$a.call(b.querySelectorAll("option"),f)}e++}},Rb=(a,b)=>a==b,Sb=a=>a,_a=(a,b,d,e,j,k,l)=>{const g=k-j;if(g<1)return-1;for(;d-b>=g;){let f=b,c=j;for(;f<d&&c<k&&l(a[f],e[c]);)f++,c++;if(c===k)return b;b=f+1}return-1},Tb=(a,b,d,e,j,k)=>{for(;e<j&&k(d[e],a[b-1]);)e++,b--;return b===0},Ca=(a,b,d,e,j)=>d<e?a(b[d],0):0<d?a(b[d-1],-0).nextSibling:j,$=(a,b,d,e)=>{for(;d<e;)$b(a(b[d++],-1))};const aa=-1,ia=1,ja=0,Wb=50,Xb=(a,b,d,e,j,k,l,g)=>{let f=0,c=e<g?e:g;const h=Array(c++),i=Array(c);i[0]=-1;for(let p=1;p<c;p++)i[p]=l;const m=j.slice(k,l);for(let p=b;p<d;p++){const r=m.indexOf(a[p]);if(-1<r){const v=r+k;f=_b(i,c,v),-1<f&&(i[f]=v,h[f]={newi:p,oldi:v,prev:h[f-1]})}}for(f=--c,--l;i[f]>l;)--f;c=g+e-f;const n=Array(c);let q=h[f];for(--d;q;){const{newi:p,oldi:r}=q;for(;d>p;)n[--c]=ia,--d;for(;l>r;)n[--c]=aa,--l;n[--c]=ja,--d,--l,q=q.prev}for(;d>=b;)n[--c]=ia,--d;for(;l>=k;)n[--c]=aa,--l;return n},Yb=(a,b,d,e,j,k,l)=>{const g=d+k,f=[];let c,h,i,m,n,q,p;Sa:for(c=0;c<=g;c++){if(c>Wb)return null;for(p=c-1,n=c?f[c-1]:[0,0],q=f[c]=[],h=-c;h<=c;h+=2){for(h===-c||h!==c&&n[p+h-1]<n[p+h+1]?m=n[p+h+1]:m=n[p+h-1]+1,i=m-h;m<k&&i<d&&l(e[j+m],a[b+i]);)m++,i++;if(m===k&&i===d)break Sa;q[c+h]=m}}const r=Array(c/2+g/2);let v=r.length-1;for(c=f.length-1;c>=0;c--){for(;m>0&&i>0&&l(e[j+m-1],a[b+i-1]);)r[v--]=ja,m--,i--;if(!c)break;p=c-1,n=c?f[c-1]:[0,0],h=m-i,h===-c||h!==c&&n[p+h-1]<n[p+h+1]?(i--,r[v--]=ia):(m--,r[v--]=aa)}return r},Zb=(a,b,d,e,j,k,l,g,f)=>{const c=[],h=a.length;let i=l,m=0;for(;m<h;)switch(a[m++]){case ja:j++,i++;break;case ia:c.push(e[j]),R(b,d,e,j++,j,i<g?b(k[i],0):f);break;case aa:i++;break}for(m=0;m<h;)switch(a[m++]){case ja:l++;break;case aa:-1<c.indexOf(k[l])?l++:$(b,k,l++,l);break}},_b=(a,b,d)=>{let e=1,j=b;for(;e<j;){const k=(e+j)/2>>>0;d<a[k]?j=k:e=k+1}return e};const Ub=(a,b,d,e,j,k,l,g,f,c,h,i,m)=>{Zb(Yb(d,e,k,l,g,c,i)||Xb(d,e,j,k,l,g,f,c),a,b,d,e,l,g,h,m)};const $b=a=>(a.remove||ac).call(a);function ac(){const{parentNode:a}=this;a&&a.removeChild(this)}const Vb=(a,b,d,e)=>{e||(e={});const j=e.compare||Rb,k=e.node||Sb,l=e.before==null?null:k(e.before,0),g=b.length;let f=g,c=0,h=d.length,i=0;for(;c<f&&i<h&&j(b[c],d[i]);)c++,i++;for(;c<f&&i<h&&j(b[f-1],d[h-1]);)f--,h--;const m=c===f,n=i===h;if(m&&n)return d;if(m&&i<h)return R(k,a,d,i,h,Ca(k,b,c,g,l)),d;if(n&&c<f)return $(k,b,c,f),d;const q=f-c,p=h-i;let r=-1;if(q<p){r=_a(d,i,h,b,c,f,j);if(-1<r)return R(k,a,d,i,r,k(b[c],0)),R(k,a,d,r+q,h,Ca(k,b,f,g,l)),d}else if(p<q){r=_a(b,c,f,d,i,h,j);if(-1<r)return $(k,b,c,r),$(k,b,r+p,f),d}return q<2||p<2?(R(k,a,d,i,h,k(b[c],0)),$(k,b,c,f),d):q===p&&Tb(d,h,b,c,f,j)?(R(k,a,d,i,h,Ca(k,b,f,g,l)),d):(Ub(k,a,d,i,h,p,b,c,f,q,g,j,l),d)};const S=Vb;var rc=function(a){"use strict";var b="fragment",d="template",e="content"in l(d),j=e?function(f){var c=l(d);return c.innerHTML=f,c.content}:function(f){var c=l(b),h=l(d),i=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(f)){var m=RegExp.$1;h.innerHTML="<table>"+f+"</table>",i=h.querySelectorAll(m)}else h.innerHTML=f,i=h.childNodes;return k(c,i),c};return function f(c,h){return(h==="svg"?g:j)(c)};function k(f,c){for(var h=c.length;h--;)f.appendChild(c[0])}function l(f){return f===b?a.createDocumentFragment():a.createElementNS("http://www.w3.org/1999/xhtml",f)}function g(f){var c=l(b),h=l("div");return h.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+f+"</svg>",k(c,h.firstChild.childNodes),c}}(document);const ic=rc;var Kb=function(a,b,d,e,j){var k=j in a,l=a.createDocumentFragment();l[b](a[e]("g")),l[b](a[e](""));var g=k?a[j](l,!0):l[d](!0);return g.childNodes.length<2?function f(c,h){for(var i=c[d](),m=c.childNodes||[],n=m.length,q=0;h&&q<n;q++)i[b](f(m[q],h));return i}:k?a[j]:function(f,c){return f[d](!!c)}}(document,"appendChild","cloneNode","createTextNode","importNode");const Lb=Kb;var Pb="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")};const Va=Pb;var oc=ha?function(a,b){var d=b.join(" ");return b.slice.call(a,0).sort(function(e,j){return d.indexOf(e.name)<=d.indexOf(j.name)?-1:1})}:function(a,b){return b.slice.call(a,0)};function eb(a,b){for(var d=b.length,e=0;e<d;)a=a.childNodes[b[e++]];return a}function Fa(a,b,d,e){for(var j=a.childNodes,k=j.length,l=0;l<k;){var g=j[l];switch(g.nodeType){case Xa:var f=e.concat(l);pc(g,b,d,f),Fa(g,b,d,f);break;case Wa:var c=g.textContent;if(c===K)d.shift(),b.push(Ba.test(a.nodeName)?ib(a,e):qc(g,e.concat(l)));else switch(c.slice(0,2)){case"/*":if(c.slice(-2)!=="*/")break;case"ðŸ‘»":a.removeChild(g),l--,k--}break;case Ya:Ba.test(a.nodeName)&&Va.call(g.textContent)===_&&(d.shift(),b.push(ib(a,e)));break}l++}}function pc(a,b,d,e){for(var j=a.attributes,k=[],l=[],g=oc(j,d),f=g.length,c=0;c<f;){var h=g[c++],i=h.value===K,m;if(i||1<(m=h.value.split(_)).length){var n=h.name;if(k.indexOf(n)<0){k.push(n);var q=d.shift().replace(i?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+n+`)\\s*=\\s*('|")[\\S\\s]*`,"i"),"$1"),p=j[q]||j[q.toLowerCase()];if(i)b.push(hb(p,e,q,null));else{for(var r=m.length-2;r--;)d.shift();b.push(hb(p,e,q,m))}}l.push(h)}}f=l.length,c=0;for(var v=0<f&&ha&&!("ownerSVGElement"in a);c<f;){var y=l[c++];v&&(y.value=""),a.removeAttribute(y.name)}var u=a.nodeName;if(/^script$/i.test(u)){var B=document.createElement(u);for(f=j.length,c=0;c<f;)B.setAttributeNode(j[c++].cloneNode(!0));B.textContent=a.textContent,a.parentNode.replaceChild(B,a)}}function qc(a,b){return{type:"any",node:a,path:b}}function hb(a,b,d,e){return{type:"attr",node:a,path:b,name:d,sparse:e}}function ib(a,b){return{type:"text",node:a,path:b}}const Td=p$(14);const jc=nc;var fb=Ea(new Td.default());function kc(a,b){var d=(a.convert||ab)(b),e=a.transform;e&&(d=e(d));var j=ic(d,a.type);gb(j);var k=[];return Fa(j,k,b.slice(0),[]),{content:j,updates:function(l){for(var g=[],f=k.length,c=0,h=0;c<f;){var i=k[c++],m=eb(l,i.path);switch(i.type){case"any":g.push({fn:a.any(m,[]),sparse:!1});break;case"attr":var n=i.sparse,q=a.attribute(m,i.name,i.node);n===null?g.push({fn:q,sparse:!1}):(h+=n.length-2,g.push({fn:q,sparse:!0,values:n}));break;case"text":g.push({fn:a.text(m),sparse:!1}),m.textContent="";break}}return f+=h,function(){var p=arguments.length;if(f!==p-1)throw new Error(p-1+" values instead of "+f+`
`+b.join("${value}"));for(var r=1,v=1;r<p;){var y=g[r-v];if(y.sparse){var u=y.values,B=u[0],C=1,E=u.length;for(v+=E-2;C<E;)B+=arguments[r++]+u[C++];y.fn(B)}else y.fn(arguments[r++])}return l}}}}function lc(a,b){var d=fb.get(b)||fb.set(b,kc(a,b));return d.updates(Lb.call(document,d.content,!0))}var mc=[];function nc(a){var b=mc,d=gb;return function(e){return b!==e&&(d=lc(a,b=e)),d.apply(null,arguments)}}function gb(a){for(var b=a.childNodes,d=b.length;d--;){var e=b[d];e.nodeType!==1&&Va.call(e.textContent).length===0&&a.removeChild(e)}}var sc=function(){"use strict";var a=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,b=/([^A-Z])([A-Z]+)/g;return function l(g,f){return"ownerSVGElement"in g?e(g,f):k(g.style,!1)};function d(l,g,f){return g+"-"+f.toLowerCase()}function e(l,g){var f;return g?f=g.cloneNode(!0):(l.setAttribute("style","--hyper:style;"),f=l.getAttributeNode("style")),f.value="",l.setAttributeNode(f),k(f,!0)}function j(l){var g,f=[];for(g in l)f.push(g.replace(b,d),":",l[g],";");return f.join("")}function k(l,g){var f,c;return function(h){var i,m,n,q;switch(typeof h){case"object":if(h){if(f==="object"){if(!g){if(c!==h)for(m in c)m in h||(l[m]="")}}else g?l.value="":l.cssText="";i=g?{}:l;for(m in h)q=h[m],n=typeof q==="number"&&!a.test(m)?q+"px":q,!g&&/^--/.test(m)?i.setProperty(m,n):i[m]=n;f="object",g?l.value=j(c=i):c=h;break}default:c!=h&&(f="string",c=h,g?l.value=h||"":l.cssText=h||"");break}}}}();const tc=sc;const Pc=a=>b=>{for(const d in b)a.setAttribute(d==="role"?d:`aria-${d}`,b[d])},Bb=(a,b)=>{let d,e=!0;const j=document.createAttributeNS(null,b);return k=>{d!==k&&(d=k,d==null?e||(a.removeAttributeNode(j),e=!0):(j.value=k,e&&(a.setAttributeNodeNS(j),e=!1)))}},Qc=({dataset:a})=>b=>{for(const d in b)a[d]=b[d]},Rc=(a,b)=>{let d,e=b.slice(2);return!(b in a)&&b.toLowerCase()in a&&(e=e.toLowerCase()),j=>{const k=ea(j)?j:[j,!1];d!==k[0]&&(d&&a.removeEventListener(e,d,k[1]),(d=k[0])&&a.addEventListener(e,d,k[1]))}},Sc=a=>b=>{typeof b==="function"?b(a):b.current=a},Cb=(a,b)=>d=>{a[b]=d},Pe=a=>{let b;return d=>{b!=d&&(b=d,a.textContent=d==null?"":d)}};const Uc=(a,b)=>{let d;return e=>{d!==e&&(d=e,a[b]!==e&&(e==null?(a[b]="",a.removeAttribute(b)):a[b]=e))}},Vc=/^(?:form|list)$/i,Wc=(a,b)=>a.ownerDocument.createTextNode(b);function va(a){return this.type=a,jc(this)}va.prototype={attribute(a,b,d){const e=this.type==="svg";switch(b){case"class":if(e)return Bb(a,b,e);b="className";case"props":return Cb(a,b);case"aria":return Pc(a);case"data":return Qc(a);case"style":return tc(a,d,e);case"ref":return Sc(a);default:return b.slice(0,1)==="."?Cb(a,b.slice(1)):b.slice(0,2)==="on"?Rc(a,b):b in a&&!(e||Vc.test(b))?Uc(a,b):Bb(a,b,e)}},any(a,b){const d={node:Tc,before:a},{type:e}=this;let j=!1,k;const l=g=>{switch(typeof g){case"string":case"number":case"boolean":j?k!==g&&(k=g,b[0].textContent=g):(j=!0,k=g,b=S(a.parentNode,b,[Wc(a,g)],d));break;case"function":l(g(a));break;case"object":case"undefined":if(g==null){j=!1,b=S(a.parentNode,b,[],d);break}default:j=!1,k=g;if(ea(g))if(g.length===0)b.length&&(b=S(a.parentNode,b,[],d));else switch(typeof g[0]){case"string":case"number":case"boolean":l(String(g));break;case"function":l(g.map(Xc,a));break;case"object":ea(g[0])&&(g=g.concat.apply([],g));default:b=S(a.parentNode,b,g,d);break}else"ELEMENT_NODE"in g?b=S(a.parentNode,b,g.nodeType===11?Y.call(g.childNodes):[g],d):"text"in g?l(String(g.text)):"any"in g?l(g.any):"html"in g?b=S(a.parentNode,b,Y.call(Jb([].concat(g.html).join(""),e).childNodes),d):"length"in g&&l(Y.call(g));break}};return l},text(a){let b;const d=e=>{if(b!==e){b=e;const j=typeof e;j==="object"&&e?"text"in e?d(String(e.text)):"any"in e?d(e.any):"html"in e?d([].concat(e.html).join("")):"length"in e&&d(Y.call(e).join("")):j==="function"?d(e(a)):a.textContent=e==null?"":e}};return d}};function Xc(a){return a(this)}const qe=p$(6);const{create:vb,freeze:Lc,keys:Mc}=Object,Nc=va.prototype,wb=Ea(new qe.default()),xb=a=>({html:yb("html",a),svg:yb("svg",a),render(b,d){const e=typeof d==="function"?d():d,j=wb.get(b)||wb.set(b,fa()),k=e instanceof xa?wa(a,j,e):e;return k!==j.wire&&(j.wire=k,b.textContent="",b.appendChild(k.valueOf())),b}}),fa=()=>({stack:[],entry:null,wire:null}),yb=(a,b)=>{const d=Ea(new qe.default()),e=k=>function(){return wa(b,k,j.apply(null,arguments))};return j.for=(k,l)=>{const g=d.get(k)||d.set(k,vb(null));return g[l]||(g[l]=e(fa()))},j.node=function(){return wa(b,fa(),j.apply(null,arguments)).valueOf()},j;function j(){return new xa(a,Ob.apply(null,arguments))}},wa=(a,b,{type:d,template:e,values:j})=>{const{length:k}=j;zb(a,b,j,k);let{entry:l}=b;if(!l||(l.template!==e||l.type!==d)){const g=new a(d);b.entry=l={type:d,template:e,tag:g,wire:Kc(g(e,...j))}}else l.tag(e,...j);return l.wire},zb=(a,{stack:b},d,e)=>{for(let j=0;j<e;j++){const k=d[j];k instanceof Oc?d[j]=wa(a,b[j]||(b[j]=fa()),k):ea(k)?zb(a,b[j]||(b[j]=fa()),k,k.length):b[j]=null}e<b.length&&b.splice(e)};Lc(xa);function xa(a,b){this.type=a,this.template=b.shift(),this.values=b}const Oc=xa,xe=a=>{const b=vb(Nc);return Mc(a).forEach(e=>{b[e]=a[e](b[e]||(e==="convert"?ab:String))}),d.prototype=b,xb(d);function d(){return va.apply(this,arguments)}};const{render:ga,html:t,svg:Ab}=xb(va);function D(a){for(var b=arguments.length,d=Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];if("production"!==process.env.NODE_ENV){var j=Cc[a],k=j?"function"==typeof j?j.apply(null,d):j:"unknown error nr: "+a;throw Error("[Immer] "+k)}throw Error("[Immer] minified error nr: "+a+(d.length?" "+d.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function P(a){return!!a&&!!a[x]}function I(a){return!!a&&(function(b){if(!b||"object"!=typeof b)return!1;var d=Object.getPrototypeOf(b);return!d||d===Object.prototype}(a)||Array.isArray(a)||!!a[Oa]||!!a.constructor[Oa]||ma(a)||na(a))}function uc(a){if(a&&a[x])return a[x].t}function J(a,b,d){void 0===d&&(d=!1),0===T(a)?(d?Object.keys:Dc)(a).forEach(function(e){return b(e,a[e],a)}):a.forEach(function(e,j){return b(j,e,a)})}function T(a){var b=a[x];return b?b.i>3?b.i-4:b.i:Array.isArray(a)?1:ma(a)?2:na(a)?3:0}function U(a,b){return 2===T(a)?a.has(b):Object.prototype.hasOwnProperty.call(a,b)}function la(a,b){return 2===T(a)?a.get(b):a[b]}function ba(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b}function ma(a){return Ac&&a instanceof Map}function na(a){return Bc&&a instanceof Set}function F(a){return a.o||a.t}function ca(a,b){if(void 0===b&&(b=!1),Array.isArray(a))return a.slice();var d=Object.create(Object.getPrototypeOf(a));return J(a,function(e){if(e!==x){var j=Object.getOwnPropertyDescriptor(a,e),k=j.value;j.get&&(b||D(1),k=j.get.call(a)),j.enumerable?d[e]=k:Object.defineProperty(d,e,{value:k,writable:!0,configurable:!0})}}),d}function Ga(a,b){P(a)||jb(a)||!I(a)||(T(a)>1&&(a.set=a.add=a.clear=a.delete=vc),Object.freeze(a),b&&J(a,function(d,e){return Ga(e,!0)},!0))}function vc(){D(2)}function jb(a){return null==a||"object"!=typeof a||Object.isFrozen(a)}function L(a){var b=sb[a];return b||D("production"!==process.env.NODE_ENV?18:19,a),b}function Ha(a,b){sb[a]=b}function da(){return"production"===process.env.NODE_ENV||X||D(0),X}function Ia(a,b){b&&(L("Patches"),a.u=[],a.s=[],a.v=b)}function oa(a){Ja(a),a.p.forEach(wc),a.p=null}function Ja(a){a===X&&(X=a.l)}function kb(a){return X={p:[],l:X,h:a,m:!0,_:0}}function wc(a){var b=a[x];0===b.i||1===b.i?b.j():b.O=!0}function Ka(a,b){b._=b.p.length;var d=b.p[0],e=void 0!==a&&a!==d;return b.h.g||L("ES5").S(b,a,e),e?(d[x].P&&(oa(b),D(4)),I(a)&&(a=pa(b,a),b.l||qa(b,a)),b.u&&L("Patches").M(d[x],a,b.u,b.s)):a=pa(b,d,[]),oa(b),b.u&&b.v(b.u,b.s),a!==Na?a:void 0}function pa(a,b,d){if(jb(b))return b;var e=b[x];if(!e)return J(b,function(k,l){return lb(a,e,b,k,l,d)},!0),b;if(e.A!==a)return b;if(!e.P)return qa(a,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var j=4===e.i||5===e.i?e.o=ca(e.k,!0):e.o;J(j,function(k,l){return lb(a,e,j,k,l,d)}),qa(a,j,!1),d&&a.u&&L("Patches").R(e,d,a.u,a.s)}return e.o}function lb(a,b,d,e,j,k){if("production"!==process.env.NODE_ENV&&j===d&&D(5),P(j)){var l=pa(a,j,k&&b&&3!==b.i&&!U(b.D,e)?k.concat(e):void 0);if(f=e,c=l,2===(h=T(g=d))?g.set(f,c):3===h?(g.delete(f),g.add(c)):g[f]=c,!P(l))return;a.m=!1}var g,f,c,h;if((!b||!ba(j,la(b.t,e)))&&I(j)){if(!a.h.N&&a._<1)return;pa(a,j),b&&b.A.l||qa(a,j)}}function qa(a,b,d){void 0===d&&(d=!1),a.h.N&&a.m&&Ga(b,d)}function La(a,b){var d=a[x],e=Reflect.getOwnPropertyDescriptor(d?F(d):a,b);return e&&e.value}function ra(a){if(!a.P){if(a.P=!0,0===a.i||1===a.i){var b=a.o=ca(a.t);J(a.p,function(d,e){b[d]=e}),a.p=void 0}a.l&&ra(a.l)}}function mb(a){a.o||(a.o=ca(a.t))}function V(a,b,d){var e=ma(b)?L("MapSet").T(b,d):na(b)?L("MapSet").F(b,d):a.g?function(j,k){var l=Array.isArray(j),g={i:l?1:0,A:k?k.A:da(),P:!1,I:!1,D:{},l:k,t:j,k:null,p:{},o:null,j:null,C:!1},f=g,c=ta;l&&(f=[g],c=ua);var h=Proxy.revocable(f,c),i=h.revoke,m=h.proxy;return g.k=m,g.j=i,m}(b,d):L("ES5").J(b,d);return(d?d.A:da()).p.push(e),e}function W(a,b){a.g?ra(b):L("ES5").K(b)}function nb(){function a(c,h){var i=c[x];if(i&&!i.$){i.$=!0;var m=c[h];return i.$=!1,m}return c[h]}function b(c){c.P||(c.P=!0,c.l&&b(c.l))}function d(c){c.o||(c.o=e(c.t))}function e(c){var h=c&&c[x];if(h){h.$=!0;var i=ca(h.k,!0);return h.$=!1,i}return ca(c)}function j(c){for(var h=c.length-1;h>=0;h--){var i=c[h][x];if(!i.P)switch(i.i){case 5:l(i)&&b(i);break;case 4:k(i)&&b(i)}}}function k(c){for(var h=c.t,i=c.k,m=Object.keys(i),n=m.length-1;n>=0;n--){var q=m[n],p=h[q];if(void 0===p&&!U(h,q))return!0;var r=i[q],v=r&&r[x];if(v?v.t!==p:!ba(r,p))return!0}return m.length!==Object.keys(h).length}function l(c){var h=c.k;if(h.length!==c.t.length)return!0;var i=Object.getOwnPropertyDescriptor(h,h.length-1);return!(!i||i.get)}function g(c){c.O&&D(3,JSON.stringify(F(c)))}var f={};Ha("ES5",{J:function(c,h){var i=Array.isArray(c),m=e(c);J(m,function(q){!function(p,r,v){var y=f[r];y?y.enumerable=v:f[r]=y={enumerable:v,get:function(){return function(u,B){g(u);var C=a(F(u),B);return u.$?C:C===a(u.t,B)&&I(C)?(d(u),u.o[B]=V(u.A.h,C,u)):C}(this[x],r)},set:function(u){!function(B,C,E){if(g(B),B.D[C]=!0,!B.P){if(ba(E,a(F(B),C)))return;b(B),d(B)}B.o[C]=E}(this[x],r,u)}},Object.defineProperty(p,r,y)}(m,q,i||function(p,r){var v=Object.getOwnPropertyDescriptor(p,r);return!(!v||!v.enumerable)}(c,q))});var n={i:i?5:4,A:h?h.A:da(),P:!1,$:!1,I:!1,D:{},l:h,t:c,k:m,o:null,O:!1,C:!1};return Object.defineProperty(m,x,{value:n,writable:!0}),m},K:b,S:function(c,h,i){c.p.forEach(function(m){m[x].$=!0}),i?P(h)&&h[x].A===c&&j(c.p):(c.u&&function m(n){if(n&&"object"==typeof n){var q=n[x];if(q){var p=q.t,r=q.k,v=q.D,y=q.i;if(4===y)J(r,function(w){w!==x&&(void 0!==p[w]||U(p,w)?v[w]||m(r[w]):(v[w]=!0,b(q)))}),J(p,function(w){void 0!==r[w]||U(r,w)||(v[w]=!1,b(q))});else if(5===y){if(l(q)&&(b(q),v.length=!0),r.length<p.length)for(var u=r.length;u<p.length;u++)v[u]=!1;else for(var B=p.length;B<r.length;B++)v[B]=!0;for(var C=Math.min(r.length,p.length),E=0;E<C;E++)void 0===v[E]&&m(r[E])}}}}(c.p[0]),j(c.p))}})}function ob(){function a(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(a);if(ma(e))return new Map(Array.from(e.entries()).map(function(l){return[l[0],a(l[1])]}));if(na(e))return new Set(Array.from(e).map(a));var j=Object.create(Object.getPrototypeOf(e));for(var k in e)j[k]=a(e[k]);return j}function b(e){return P(e)?a(e):e}var d="add";Ha("Patches",{U:function(e,j){return j.forEach(function(k){for(var l=k.path,g=k.op,f=e,c=0;c<l.length-1;c++)"object"!=typeof(f=la(f,l[c]))&&D(15,l.join("/"));var h=T(f),i=a(k.value),m=l[l.length-1];switch(g){case"replace":switch(h){case 2:return f.set(m,i);case 3:D(16);default:return f[m]=i}case d:switch(h){case 1:return f.splice(m,0,i);case 2:return f.set(m,i);case 3:return f.add(i);default:return f[m]=i}case"remove":switch(h){case 1:return f.splice(m,1);case 2:return f.delete(m);case 3:return f.delete(k.value);default:return delete f[m]}default:D(17,g)}}),e},R:function(e,j,k,l){switch(e.i){case 0:case 4:case 2:return function(g,f,c,h){var i=g.t,m=g.o;J(g.D,function(n,q){var p=la(i,n),r=la(m,n),v=q?U(i,n)?"replace":d:"remove";if(p!==r||"replace"!==v){var y=f.concat(n);c.push("remove"===v?{op:v,path:y}:{op:v,path:y,value:r}),h.push(v===d?{op:"remove",path:y}:"remove"===v?{op:d,path:y,value:b(p)}:{op:"replace",path:y,value:b(p)})}})}(e,j,k,l);case 5:case 1:return function(g,f,c,h){var i=g.t,m=g.D,n=g.o;if(n.length<i.length){var q=[n,i];i=q[0],n=q[1];var p=[h,c];c=p[0],h=p[1]}for(var r=n.length-i.length,v=0;i[v]===n[v]&&v<i.length;)++v;for(var y=i.length;y>v&&i[y-1]===n[y+r-1];)--y;for(var u=v;u<y;++u)if(m[u]&&n[u]!==i[u]){var B=f.concat([u]);c.push({op:"replace",path:B,value:b(n[u])}),h.push({op:"replace",path:B,value:b(i[u])})}for(var C=c.length,E=y+r-1;E>=y;--E){var w=f.concat([E]);c[C+E-y]={op:d,path:w,value:b(n[E])},h.push({op:"remove",path:w})}}(e,j,k,l);case 3:return function(g,f,c,h){var i=g.t,m=g.o,n=0;i.forEach(function(q){if(!m.has(q)){var p=f.concat([n]);c.push({op:"remove",path:p,value:q}),h.unshift({op:d,path:p,value:q})}n++}),n=0,m.forEach(function(q){if(!i.has(q)){var p=f.concat([n]);c.push({op:d,path:p,value:q}),h.unshift({op:"remove",path:p,value:q})}n++})}(e,j,k,l)}},M:function(e,j,k,l){k.push({op:"replace",path:[],value:j}),l.push({op:"replace",path:[],value:e.t})}})}function pb(){function a(g,f){function c(){this.constructor=g}j(g,f),g.prototype=(c.prototype=f.prototype,new c())}function b(g){g.o||(g.D=new Map(),g.o=new Map(g.t))}function d(g){g.o||(g.o=new Set(),g.t.forEach(function(f){if(I(f)){var c=V(g.A.h,f,g);g.p.set(f,c),g.o.add(c)}else g.o.add(f)}))}function e(g){g.O&&D(3,JSON.stringify(F(g)))}var j=function(g,f){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var i in h)h.hasOwnProperty(i)&&(c[i]=h[i])})(g,f)},k=function(){function g(c,h){return this[x]={i:2,l:h,A:h?h.A:da(),P:!1,I:!1,o:void 0,D:void 0,t:c,k:this,C:!1,O:!1},this}a(g,Map);var f=g.prototype;return Object.defineProperty(f,"size",{get:function(){return F(this[x]).size}}),f.has=function(c){return F(this[x]).has(c)},f.set=function(c,h){var i=this[x];return e(i),F(i).get(c)!==h&&(b(i),W(i.A.h,i),i.D.set(c,!0),i.o.set(c,h),i.D.set(c,!0)),this},f.delete=function(c){if(!this.has(c))return!1;var h=this[x];return e(h),b(h),W(h.A.h,h),h.D.set(c,!1),h.o.delete(c),!0},f.clear=function(){var c=this[x];return e(c),b(c),W(c.A.h,c),c.D=new Map(),c.o.clear()},f.forEach=function(c,h){var i=this;F(this[x]).forEach(function(m,n){c.call(h,i.get(n),n,i)})},f.get=function(c){var h=this[x];e(h);var i=F(h).get(c);if(h.I||!I(i))return i;if(i!==h.t.get(c))return i;var m=V(h.A.h,i,h);return b(h),h.o.set(c,m),m},f.keys=function(){return F(this[x]).keys()},f.values=function(){var c,h=this,i=this.keys();return(c={})[sa]=function(){return h.values()},c.next=function(){var m=i.next();return m.done?m:{done:!1,value:h.get(m.value)}},c},f.entries=function(){var c,h=this,i=this.keys();return(c={})[sa]=function(){return h.entries()},c.next=function(){var m=i.next();if(m.done)return m;var n=h.get(m.value);return{done:!1,value:[m.value,n]}},c},f[sa]=function(){return this.entries()},g}(),l=function(){function g(c,h){return this[x]={i:3,l:h,A:h?h.A:da(),P:!1,I:!1,o:void 0,t:c,k:this,p:new Map(),O:!1,C:!1},this}a(g,Set);var f=g.prototype;return Object.defineProperty(f,"size",{get:function(){return F(this[x]).size}}),f.has=function(c){var h=this[x];return e(h),h.o?!!h.o.has(c)||!(!h.p.has(c)||!h.o.has(h.p.get(c))):h.t.has(c)},f.add=function(c){var h=this[x];return e(h),this.has(c)||(d(h),W(h.A.h,h),h.o.add(c)),this},f.delete=function(c){if(!this.has(c))return!1;var h=this[x];return e(h),d(h),W(h.A.h,h),h.o.delete(c)||!!h.p.has(c)&&h.o.delete(h.p.get(c))},f.clear=function(){var c=this[x];return e(c),d(c),W(c.A.h,c),c.o.clear()},f.values=function(){var c=this[x];return e(c),d(c),c.o.values()},f.entries=function(){var c=this[x];return e(c),d(c),c.o.entries()},f.keys=function(){return this.values()},f[sa]=function(){return this.values()},f.forEach=function(c,h){for(var i=this.values(),m=i.next();!m.done;)c.call(h,m.value,m.value,this),m=i.next()},g}();Ha("MapSet",{T:function(g,f){return new k(g,f)},F:function(g,f){return new l(g,f)}})}function xc(){nb(),pb(),ob()}function yc(a){return a}function zc(a){return a}var qb,X,Ma="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Ac="undefined"!=typeof Map,Bc="undefined"!=typeof Set,rb="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Na=Ma?Symbol("immer-nothing"):((qb={})["immer-nothing"]=!0,qb),Oa=Ma?Symbol("immer-draftable"):"__$immer_draftable",x=Ma?Symbol("immer-state"):"__$immer_state",sa="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Cc={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(a){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+a},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(a){return"Cannot apply patch, path doesn't resolve: "+a},16:'Sets cannot have "replace" patches.',17:function(a){return"Unsupported patch operation: "+a},18:function(a){return"The plugin for '"+a+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+a+"()` when initializing your application."},19:function(a){return"plugin not loaded: "+a},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available"},Dc="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames,sb={},ta={get:function(a,b){if(b===x)return a;var d=a.p;if(!a.P&&U(d,b))return d[b];var e=F(a)[b];if(a.I||!I(e))return e;if(a.P){if(e!==La(a.t,b))return e;d=a.o}return d[b]=V(a.A.h,e,a)},has:function(a,b){return b in F(a)},ownKeys:function(a){return Reflect.ownKeys(F(a))},set:function(a,b,d){if(!a.P){var e=La(a.t,b);if(d?ba(e,d)||d===a.p[b]:ba(e,d)&&b in a.t)return!0;mb(a),ra(a)}return a.D[b]=!0,a.o[b]=d,!0},deleteProperty:function(a,b){return void 0!==La(a.t,b)||b in a.t?(a.D[b]=!1,mb(a),ra(a)):a.D[b]&&delete a.D[b],a.o&&delete a.o[b],!0},getOwnPropertyDescriptor:function(a,b){var d=F(a),e=Reflect.getOwnPropertyDescriptor(d,b);return e&&(e.writable=!0,e.configurable=1!==a.i||"length"!==b),e},defineProperty:function(){D(11)},getPrototypeOf:function(a){return Object.getPrototypeOf(a.t)},setPrototypeOf:function(){D(12)}},ua={};J(ta,function(a,b){ua[a]=function(){return arguments[0]=arguments[0][0],b.apply(this,arguments)}}),ua.deleteProperty=function(a,b){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(b))&&D(13),ta.deleteProperty.call(this,a[0],b)},ua.set=function(a,b,d){return"production"!==process.env.NODE_ENV&&"length"!==b&&isNaN(parseInt(b))&&D(14),ta.set.call(this,a[0],b,d,a[0])};var tb=function(){function a(d){this.g=rb,this.N="production"!==process.env.NODE_ENV,"boolean"==typeof(null==d?void 0:d.useProxies)&&this.setUseProxies(d.useProxies),"boolean"==typeof(null==d?void 0:d.autoFreeze)&&this.setAutoFreeze(d.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var b=a.prototype;return b.produce=function(d,e,j){if("function"==typeof d&&"function"!=typeof e){var k=e;e=d;var l=this;return function(i){var m=this;void 0===i&&(i=k);for(var n=arguments.length,q=Array(n>1?n-1:0),p=1;p<n;p++)q[p-1]=arguments[p];return l.produce(i,function(r){var v;return(v=e).call.apply(v,[m,r].concat(q))})}}var g;if("function"!=typeof e&&D(6),void 0!==j&&"function"!=typeof j&&D(7),I(d)){var f=kb(this),c=V(this,d,void 0),h=!0;try{g=e(c),h=!1}finally{h?oa(f):Ja(f)}return"undefined"!=typeof Promise&&g instanceof Promise?g.then(function(i){return Ia(f,j),Ka(i,f)},function(i){throw oa(f),i}):(Ia(f,j),Ka(g,f))}if((g=e(d))!==Na)return void 0===g&&(g=d),this.N&&Ga(g,!0),g},b.produceWithPatches=function(d,e){var j,k,l=this;return"function"==typeof d?function(g){for(var f=arguments.length,c=Array(f>1?f-1:0),h=1;h<f;h++)c[h-1]=arguments[h];return l.produceWithPatches(g,function(i){return d.apply(void 0,[i].concat(c))})}:[this.produce(d,e,function(g,f){j=g,k=f}),j,k]},b.createDraft=function(d){I(d)||D(8);var e=kb(this),j=V(this,d,void 0);return j[x].C=!0,Ja(e),j},b.finishDraft=function(d,e){var j=d&&d[x];"production"!==process.env.NODE_ENV&&(j&&j.C||D(9),j.I&&D(10));var k=j.A;return Ia(k,e),Ka(void 0,k)},b.setAutoFreeze=function(d){this.N=d},b.setUseProxies=function(d){rb||D(20),this.g=d},b.applyPatches=function(d,e){var j;for(j=e.length-1;j>=0;j--){var k=e[j];if(0===k.path.length&&"replace"===k.op){d=k.value;break}}var l=L("Patches").U;return P(d)?l(d,e):this.produce(d,function(g){return l(g,e.slice(j+1))})},a}(),G=new tb(),Pa=G.produce,Ec=G.produceWithPatches.bind(G),Fc=G.setAutoFreeze.bind(G),Gc=G.setUseProxies.bind(G),Hc=G.applyPatches.bind(G),Ic=G.createDraft.bind(G),Jc=G.finishDraft.bind(G);const me=Pa;let Q=[];Q.push(Z);function A(a){const b=Pa(Q[Q.length-1],a);return Fb(b),Q.push(b),!0}function Hb(){return Q[Q.length-1]}function rg(){return Q}function Gb(a,b,d,e){const j={1:"dice-front-view",2:"dice-right-view",3:"dice-back-view",4:"dice-left-view",5:"dice-top-view",6:"dice-bottom-view"};function k(){return`animation-iteration-count: ${b};`}function l(){return e==="ambassadorAldren"?t`<div class="dice relayout-aldren-die ${j[a]}" style=${k()}>
                <div class="diceFace front"></div>
                <div class="diceFace right"></div>
                <div class="diceFace back"></div>
                <div class="diceFace left"></div>
                <div class="diceFace top"></div>
                <div class="diceFace bottom"></div>
            </div>`:e==="mrsRoboto"?t`<div class="dice relayout-roboto-die ${j[a]}" style=${k()}>
                <div class="diceFace front"></div>
                <div class="diceFace right"></div>
                <div class="diceFace back"></div>
                <div class="diceFace left"></div>
                <div class="diceFace top"></div>
                <div class="diceFace bottom"></div>
            </div>`:t`<div class="dice ${j[a]}" style=${k()}>
                <div class="diceFace front"></div>
                <div class="diceFace right"></div>
                <div class="diceFace back"></div>
                <div class="diceFace left"></div>
                <div class="diceFace top"></div>
                <div class="diceFace bottom"></div>
            </div>`}return t`
        <div class=${d?"view selected-die":"view"}>
            ${l()}
        </div>
    `}function bd(a,b){const{crew:d,gameUiData:e,player:j}=a,{phase:k,selectedDice:l,crewOnMission:g,currentCrewAbility:f,mojoAbility:c,lastAbilityUsed:h,lastDiceSelected:i,isSimpleGame:m}=e,n=d[b],q=n.animations,p=e.selectedDice.includes(b);function r(){if(k===1)A(w=>{w.gameUiData.crewOnMission[b]?delete w.gameUiData.crewOnMission[b]:w.gameUiData.crewOnMission[b]=n.isActive});else if(k===3)if(l.includes(b))A(w=>{w.gameUiData.selectedDice.splice(w.gameUiData.selectedDice.indexOf(b),1)});else if(f==="ambassadorAldren"&&g.ambassadorAldren==="active"&&l.length<2)A(w=>{w.gameUiData.selectedDice.push(b)});else if(f==="ltMojo"&&g.ltMojo==="active")if(c)A(w=>{w.gameUiData.selectedDice=[b]});else{if(b==="ltMojo"){A(w=>{w.gameUiData.modalOpen=!0,w.gameUiData.modalId="mojoRecursion",w.gameUiData.modalButtonText="Continue"});return}A(w=>{w.gameUiData.mojoAbility=b,w.gameUiData.modalOpen=!0,w.gameUiData.modalId="mojoCopiedAbility",w.gameUiData.modalButtonText="Continue"})}else A(w=>{w.gameUiData.selectedDice=[b]})}function v(){if(g[b])return t`<div class="card-selected-top">SELECTED</div>`}function y(){if(g[b])return t`<div class="card-selected-bottom"></div>`}function u(){let w=n.img;return b==="ltMojo"&&c&&(w=d[c].img),t`<img class="layer-ability-box" src="./images/crew/layer/ability-${w}.png" alt="">`}function B(){return t`${Object.keys(n.triggers).map((H,O)=>n.triggers[H]===!1?t`
                        <div class="trigger known-trigger" data-i=${O}>${H} - ${w(H)}</div>
                    `:b===j.crew?t`
                        <div class="trigger partially-known-trigger" data-i=${O}>${w(H)}</div>
                    `:t`
                        <div class="trigger unknown-trigger" data-i=${O}><img src="./images/icons/sight-disabled-black.png" alt="Hidden madness trigger icon"></div>
                    `)}`;function w(H){for(const O in d)if(d[O].traits[H])return d[O].name}}function C(){const w={1:"dice-front-view",2:"dice-right-view",3:"dice-back-view",4:"dice-left-view",5:"dice-top-view",6:"dice-bottom-view"};return n.rolling&&k===2?t`${Gb(n.die,q,p,"normal")}`:n.rolling&&k===3&&(h==="ambassadorAldren"||h==="mrsRoboto")&&i.includes(b)?t`${Gb(n.die,q,p,h)}`:n.rolling&&k===3?t`
            <div class=${p?"view selected-die":"view"}>
                <div class="dice dice-front-view ${w[n.die]}" style="animation-iteration-count: 0;">
                    <div class="diceFace front"></div>
                    <div class="diceFace right"></div>
                    <div class="diceFace back"></div>
                    <div class="diceFace left"></div>
                    <div class="diceFace top"></div>
                    <div class="diceFace bottom"></div>
                </div>
            </div>
            `:t`
            <div class="view">
                <div class="dice dice-front-view re-display-none" style="animation-iteration-count: 0;">
                    <div class="diceFace front"></div>
                    <div class="diceFace right"></div>
                    <div class="diceFace back"></div>
                    <div class="diceFace left"></div>
                    <div class="diceFace top"></div>
                    <div class="diceFace bottom"></div>
                </div>
            </div>
            `}function E(){return n.madnessLevel===0?"opacity:0":n.madnessLevel===1?"opacity:0.3":n.madnessLevel===1?"opacity:0.5":"opacity:0.8"}return t`
        ${C()}
        <div class="crew-wrapper ${k>0?"re-pointer":"no-pointer"}" onclick=${r}>
            <div class=${n.isActive==="active"?"crew-wrapper-inner":"crew-wrapper-inner crew-inactive"}>
                <div class="crew-front">
                    ${v()}
                    <img src="./images/crew/bkgrd/${n.img}.jpg" alt="Crew base image">
                    <div class="crew-madness-cover" style=${E()}></div>
                    ${m?" ":u()}
                    <div class="crew-info">
                        <div class="crew-name re-text-center">${n.name}</div>
                        <ul class="traits-list">
                            ${Object.keys(n.traits).map((w,H)=>t`
                                <li data-i=${H}> ${w} </li>`)}
                        </ul>
                    </div>
                    <div class=${m?"re-display-none":"crew-ability"}>
                        <div class="re-text-center re-text-bold">Ability</div>
                        <div class="ability-text" style=${b==="ltMojo"&&!c?"margin-left: 0px":"margin-left: 50px"}>
                            ${()=>b==="ltMojo"&&c?d[c].abilityText:n.abilityText}
                        </div>
                    </div>
                    ${y()}
                </div>
                <div class="crew-back">
                    ${v()}
                    <img src="./images/crew/bkgrd/${n.img}.jpg" alt="Crew base image without ability">
                    <div class="crew-madness-cover" style=${E()}></div>
                    <div class="crew-info">
                        <div class="crew-name re-text-center">${n.name}</div>
                        <ul class="traits-list">
                            ${Object.keys(n.traits).map((w,H)=>t`
                                <li data-i=${H}> ${w} </li>`)}
                        </ul>
                    </div>
                    ${y()}
                </div>
            </div>
        </div>
        <div style="text-align: left">
            ${B()}
        </div>
    `}function Qa(a,b,d){const{missions:e,gameUiData:j}=a,{phase:k,selectedMissionId:l,isSimpleGame:g}=j,f=e[d][b],c=Object.keys(e[d]);function h(){i(),k===0&&i()&&A(r=>{r.gameUiData.selectedMissionLvl=d,r.gameUiData.selectedMissionId=b})}function i(){for(let r=c.length-1;r>-1;r--)if(e[d][c[r]].succeeded===!1)return c[r]===b?!0:!1}function m(){return f.imgLayerTarget?t`<img class="mission-target-img" src="./images/missions/layer/${f.imgLayerTarget}.png" alt="">`:t`<div class="mission-target-num">${f.targetNumber}<div>`}function n(){if(b===l)return t`<div class="card-selected-top">SELECTED</div>`}function q(){if(b===l)return t`<div class="card-selected-bottom"></div>`}function p(){return g&&i()?t`
                <div class="mission-simple-game-info">
                    <div class="re-text-center">Location: ${f.name}</div>
                    <div class="re-text-center">Mission: ${f.story}</div>
                    <div class="seperator"></div>
                    <div class="re-blue re-text-center">Send ${f.simpleMissionTarget} crew members to complete this mission</div>
                </div>
            `:void 0}return t`
        <div class="mission-wrapper ${k===0?"re-pointer":"no-pointer"}" onclick=${h}>
            <div class=${f.failed?"mission-wrapper-inner mission-failed":"mission-wrapper-inner"}>
                <div class="mission-front">
                    ${n()}
                    <div class=${g?"re-display-none":"mission-target-rule-text"}>Mission: ${f.targetRuleText}</div>
                    <img class=${i()?"mission-bkgrd":""} src="./images/missions/bkgrd/${f.imgBkgrd}.jpg" alt="">
                    <img class=${g?"re-display-none":"layer-target-box"} src="./images/missions/layer/${f.imgLayerFrame}.png" alt="">
                    ${g?" ":m()}
                    ${p()}
                    ${q()}
                </div>
                <div class="mission-back">
                    ${n()}
                    <div class="mission-target-rule-text">Salvage: Roll two of a kind</div>
                    <img class=${i()?"mission-bkgrd":""} src="./images/missions/bkgrd/${f.imgBkgrd}.jpg" alt="">
                    <img class="layer-target-box" src="./images/missions/layer/rule-roll-exactly.png" alt="">
                    <img class="mission-target-img" src="./images/missions/layer/die-roll-two-same.png" alt="">
                    ${q()}
                </div>
            </div>
        </div>
    `}var ya;(function(a){function b(f){return g(1,6)}a.rerollOne=b;function d(f){return f+1}a.addOne=d;function e(f){return f+2}a.addTwo=e;function j(f){return f-1}a.subtractOne=j;function k(f){return f-2}a.subtractTwo=k;function l(f){const c={1:6,2:5,3:4,4:3,5:2,6:1};return c[f]}a.flip=l;function g(f,c){return Math.floor(Math.random()*(c-f+1)+f)}})(ya||(ya={}));var za;(function(a){function b(i){return i.reduce((m,n)=>m+n)>5}a.lvlOneOver=b;function d(i){return i.reduce((m,n)=>m+n)>10}a.lvlTwoOver=d;function e(i){return i.reduce((m,n)=>m+n)>15}a.lvlThreeOver=e;function j(i){return i.reduce((m,n)=>m+n)<12}a.lvlOneUnder=j;function k(i){return i.reduce((m,n)=>m+n)<8}a.lvlTwoUnder=k;function l(i){return i.reduce((m,n)=>m+n)<6}a.lvlThreeUnder=l;function g(i){return i.includes(6)}a.lvlOneNum=g;function f(i){return i.includes(4)&&i.includes(5)}a.lvlTwoNum=f;function c(i){return i.includes(1)&&i.includes(2)&&i.includes(3)}a.lvlThreeNum=c;function h(i,m){let n={};for(let q=0;q<i.length;q++){n[i[q]]=(n[i[q]]||0)+1;if(n[i[q]]>=m)return!0}return!1}a.recoverFail=h})(za||(za={}));function cd(a){const{crew:b,gameUiData:d}=a,{crewOnMission:e,currentCrewAbility:j}=d;let k=[];for(const g in e)e[g]==="active"&&k.push(g);function l(g){if(g){const f=g.target.value;A(c=>{c.gameUiData.currentCrewAbility=f,c.gameUiData.selectedDice=[]})}}return t`
        <select onchange=${g=>{l(g)}}>
            ${k.map(g=>g!==j&&e[g]==="active"?t`<option value=${g}>${b[g].name}</option>`:g===j?t`<option value=${j} selected>${b[j].name}</option>`:null)}
        </select>
    `}function ed(a){const{gameUiData:b,crew:d,missions:e,player:j}=a,{phase:k,crewOnMission:l,currentCrewAbility:g,selectedMissionLvl:f,selectedMissionId:c,mojoAbility:h,selectedDice:i,turnOrder:m,activeTurn:n,isSimpleGame:q}=b,p=Object.keys(l);function r(){if(k===0)return t`
            <div class="phases-ui">
                <button disabled=${c?!1:!0} onclick=${v} ><span class="desktop-inline">Submit Mission</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `;{if(k===1&&q===!1)return t`
            <div class="phases-ui">
                <button disabled=${p.length<3?!0:!1} onclick=${y}><span class="desktop-inline">Submit Crew</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `;{if(k===1&&q)return t`
            <div class="phases-ui">
                <button disabled=${p.length<e[f][c].simpleMissionTarget?!0:!1} onclick=${y}><span class="desktop-inline">Submit Crew</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `;if(k===3)return t`
            <div class="phases-ui">
                <button onclick=${E}>Skip</button>
                <button onclick=${B}><span class="desktop-inline">Apply</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `}}}function v(){f&&c?A(o=>{o.gameUiData.phase++,o.gameUiData.phaseChange=!0}):A(o=>{o.gameUiData.modalOpen=!0,o.gameUiData.modalId="minimumMission",o.gameUiData.modalButtonText="Continue"})}function y(){if(q){e[f][c].simpleMissionTarget<=p.length?w():A(o=>{o.gameUiData.modalOpen=!0,o.gameUiData.modalId="minimumCrew",o.gameUiData.modalButtonText="Continue"});return}if(p.length>2){A(s=>{s.gameUiData.phase++,s.gameUiData.phaseChange=!0;for(let z=0;z<p.length;z++)s.crew[p[z]].rolling=!0,s.crew[p[z]].die=Math.floor(Math.random()*(6-1))+1});let o=1;for(let s=0;s<p.length;s++)d[p[s]].animations>o&&(o=d[p[s]].animations);setTimeout(()=>{H()?w():u()?w():A(s=>{s.gameUiData.phase++,s.gameUiData.phaseChange=!0;for(const z in l)if(l[z]==="active"){s.gameUiData.currentCrewAbility=z;break}})},o*1600)}else A(o=>{o.gameUiData.modalOpen=!0,o.gameUiData.modalId="minimumCrew",o.gameUiData.modalButtonText="Continue"})}function u(){for(const o in l)if(l[o]==="active")return!1;return!0}function B(){console.log(h),g==="ltMojo"&&l.ltMojo==="active"&&!h&&A(o=>{o.gameUiData.modalOpen=!0,o.gameUiData.modalId="chooseAnotherCrew",o.gameUiData.modalButtonText="Continue"});if(g==="ambassadorAldren"&&l.ambassadorAldren==="active"){C()?(A(o=>{o.gameUiData.lastAbilityUsed=g,o.gameUiData.lastDiceSelected=i,o.gameUiData.crewOnMission[g]="inactive";for(let s=0;s<o.gameUiData.selectedDice.length;s++)o.crew[o.gameUiData.selectedDice[s]].die=Math.floor(Math.random()*(6-1+1)+1);for(const s in l)if(g!==s&&l[s]==="active"){o.gameUiData.currentCrewAbility=s;break}}),setTimeout(()=>{w()},1000)):A(o=>{o.gameUiData.lastAbilityUsed=g,o.gameUiData.lastDiceSelected=i,o.gameUiData.crewOnMission[g]="inactive";for(let s=0;s<o.gameUiData.selectedDice.length;s++)o.crew[o.gameUiData.selectedDice[s]].die=Math.floor(Math.random()*(6-1+1)+1);for(const s in l)if(g!==s&&l[s]==="active"){o.gameUiData.currentCrewAbility=s;break}o.gameUiData.selectedDice=[]});return}if(i.length>0){let o=1;g==="ltMojo"?o=ya[d[h].ability](d[i[0]].die):o=ya[d[g].ability](d[i[0]].die),o>6&&(o=6),o<1&&(o=1),C()?(A(s=>{s.gameUiData.lastAbilityUsed=g,s.gameUiData.lastDiceSelected=i,s.crew[s.gameUiData.selectedDice[0]].die=o}),setTimeout(()=>{w()},1000)):A(s=>{s.gameUiData.lastAbilityUsed=g,s.gameUiData.lastDiceSelected=i,s.crew[s.gameUiData.selectedDice[0]].die=o,s.gameUiData.crewOnMission[g]="inactive";for(const z in l)if(g!==z&&l[z]==="active"){s.gameUiData.currentCrewAbility=z;break}s.gameUiData.selectedDice=[]})}else A(o=>{o.gameUiData.modalOpen=!0,o.gameUiData.modalId="chooseADie",o.gameUiData.modalButtonText="Continue"})}function C(){for(const o in l)if(l[o]==="active"&&g!==o)return!1;return!0}function E(){C()?w():A(o=>{o.gameUiData.crewOnMission[g]="inactive";for(const s in l)if(g!==s&&l[s]==="active"){o.gameUiData.currentCrewAbility=s;break}o.gameUiData.selectedDice=[]})}function w(){H()||q?A(o=>{b.phase=4,o.gameUiData.modalOpen=!0,o.gameUiData.modalId="suceededMission",o.gameUiData.modalButtonText="Start Next Round",o.missions[f][c].failed===!0?o.missions[f][c].failed=!1:o.missions[f][c].succeeded=!0,o.missions[f][c].isSelected=!1,o.gameUiData.selectedDice=[],o.gameUiData.crewOnMission={},o.gameUiData.currentCrewAbility=void 0,o.gameUiData.lastAbilityUsed=void 0,o.gameUiData.lastDiceSelected=void 0,o.gameUiData.selectedMissionLvl=void 0,o.gameUiData.selectedMissionId=void 0,o.gameUiData.mojoAbility=void 0;let s=!1;for(let z=0;z<p.length;z++){for(const M in o.crew[p[z]].triggers){if(s){s=!1;break}for(let N=0;N<p.length;N++)if(p[z]!==p[N]){if(o.crew[p[N]].traits[M]&&o.crew[p[z]].triggers[M]!==!1){o.crew[p[z]].triggers[M]=!1,o.crew[p[z]].madnessLevel++,s=!0;break}}}o.crew[p[z]].die=1,o.crew[p[z]].rolling=!1,o.crew[p[z]].isSelected=!1,o.crew[p[z]].isActive="active"}}):e[f][c].failed?A(o=>{o.gameUiData.modalOpen=!0,o.gameUiData.modalId="missionLose",o.gameUiData.modalButtonText=void 0}):A(o=>{b.phase=4,o.gameUiData.modalOpen=!0,o.gameUiData.modalId="failedMission",o.gameUiData.modalButtonText="Start Next Round",o.missions[f][c].failed=!0,o.missions[f][c].isSelected=!1,o.gameUiData.selectedDice=[],o.gameUiData.crewOnMission={},o.gameUiData.currentCrewAbility=void 0,o.gameUiData.lastAbilityUsed=void 0,o.gameUiData.lastDiceSelected=void 0,o.gameUiData.selectedMissionLvl=void 0,o.gameUiData.selectedMissionId=void 0,o.gameUiData.mojoAbility=void 0;let s=!1;for(let z=0;z<p.length;z++){for(const M in o.crew[p[z]].triggers){if(s){s=!1;break}for(let N=0;N<p.length;N++)if(p[z]!==p[N]){if(o.crew[p[N]].traits[M]&&o.crew[p[z]].triggers[M]!==!1){o.crew[p[z]].triggers[M]=!1,o.crew[p[z]].madnessLevel++,s=!0;break}}}o.crew[p[z]].die=1,o.crew[p[z]].rolling=!1,o.crew[p[z]].isSelected=!1,o.crew[p[z]].isActive="inactive"}}),setTimeout(()=>{A(o=>{o.gameUiData.phase=0,o.gameUiData.phaseChange=!0})},1000)}function H(){let o=[],s=!1;const z=Hb();for(const M in z.gameUiData.crewOnMission)o.push(z.crew[M].die);if(e[f][c].failed){if(za.recoverFail(o,2))return s=!0,s}else if(za[e[f][c].successCheck](o))return s=!0,s;return s}function O(){A(o=>{o.gameUiData.modalOpen=!0,o.gameUiData.modalId="rules",o.gameUiData.modalButtonText="Return to Game"})}function kd(){const o=["","","Rolling...","apply ability to a crew's die","Clean up phase..."];let s="Not currently your turn. Relax. Sit a spell.";return m[n]===j.name&&(s=o[k]),g==="ltMojo"&&l.ltMojo==="active"&&(h?s="Choose a dice to use Mojo's copied ability on":s="Choose a crew for Mojo to copy"),k===3?t`
            <div class="phases-direction-text">
                ${cd(a)} <span class="desktop-inline">${s}</span>
            </div>`:k===0?t`
            <div class="phases-direction-text">
                Choose a <span class=\"re-green\">mission</span> to attempt
            </div>`:k===1?t`<div class="phases-direction-text">
                Choose <span class=\"re-blue\">crew</span> for the mission
            </div>`:t`${s}`}return t`
        <div class="phases-tooltip-wrapper">
            <div class="phases-help-button" onclick=${O}>${fd()}</div>
        </div>
        ${kd()}
        ${r()}
    `}function fd(){return Ab`<svg style="height: 20px; width: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 0h512v512H0z" fill="#ffffff" fill-opacity="0"></path><g class="" style="touch-action: none;" transform="translate(0,0)"><path d="M256 16C123.45 16 16 123.45 16 256s107.45 240 240 240 240-107.45 240-240S388.55 16 256 16zm0 60c99.41 0 180 80.59 180 180s-80.59 180-180 180S76 355.41 76 256 156.59 76 256 76zm0 30c-66.274 0-120 40.294-120 90 0 30 60 30 60 0 0-16.57 26.862-30 60-30 33.138 0 60 13.43 60 30s-30 15-60 30c-1.875.938-3.478 2.126-4.688 3.28C226.53 244.986 226 271.926 226 286v15c0 16.62 13.38 30 30 30 16.62 0 30-13.38 30-30v-15c0-45 90-40.294 90-90s-53.726-90-120-90zm0 240a30 30 0 0 0-30 30 30 30 0 0 0 30 30 30 30 0 0 0 30-30 30 30 0 0 0-30-30z" fill="#ffffff" fill-opacity="1"></path></g></svg>`}var Ra;(function(a){function b(){return t`
        <h2 class="modal-h2-spacing">You won Space Madness the game!</h2>
        <p class="modal-paragraph"><img src="./images/modal-content/game-cover.jpg" alt="Space Madness title image">After your ship returns to spaceport, you receive a communique from command. The message simply says "Do better next next time". You might expect more after so much hard work, but space management is a thankless profession. If you want riches and glory try space trucking, or possibly a side hustle as an alien host. As you look out upon the stars you can't help but worry about what could have been. Moments later your Space Nachos arrive!</p>
        <button onclick=${()=>{location.reload()}}>Start New Game</button>
        `}a.win=b;function d(){return t`
            <h2 class="modal-h2-spacing">Sorry, you lost due to SPACE MADNESS!</h2>
            <p class="modal-paragraph"><img class="modal-crew-image modal-img-right" src="./images/modal-content/aldren-image.jpg" alt="Mrs. Roboto going mad and attacking Ambassador Aldren">After your ship (The Orpheus) didnâ€™t arrive at spaceport, a search was launched for the missing vessel. After three weeks combing its last known position in a poorly mapped sector, it was discovered adrift. The bodies of seven crew members were found. After a brief investigation it was concluded SPACE MADNESS had taken a crew member!</p>
            <button onclick=${()=>{location.reload()}}>Start New Game</button>
            `}a.madnessLose=d;function e(){return t`
        <h2 class="modal-h2-spacing">Sorry, you lost due to mission failure!</h2>
        <p class="modal-paragraph"><img src="./images/modal-content/ship-explode.jpg" alt="Space ship exploding image">The shipâ€™s hull moans and the power flickers repeatedly. Your team has failed. Was it Space Vampires? Maybe there were too many Christmas lights in the medical bay? Sadly, you'll never know for sure. The one thing you do know is your crew really bungled things up. Bungled them all the way to Bungle Town, population: a whole lot of bungles. Bungle. The ship explodes.</p>
        <button onclick=${()=>{location.reload()}}>Start New Game</button>
        `}a.missionLose=e;function j(){return t`
            <h2 class="modal-h2-spacing">You failed the mission! Tensions rise!</h2>
            <p class="modal-paragraph"><img class="modal-crew-image modal-img-right" src="./images/modal-content/hammer-image.jpg" alt="Space Madness title image">The crew you chose to complete this mission bursts through the doorway. One has a small head wound and another looks to have had their eyebrows singed off. You don't even have to ask what happened. The frazzled looks tell you everything you need to know. You'll have to be careful after this. If your crew can't recover this failed mission with a success, it could spell doom for the ship and everyone aboard.</p>
        `}a.failedMission=j;function k(){return t`
            <h2 class="modal-h2-spacing">Success! Your crew was up to the challenge!</h2>
            <p class="modal-paragraph"><img class="modal-crew-image modal-img-right" src="./images/modal-content/moxy-image.jpg" alt="Pilot moxy saluting">The crew you chose to complete this mission walks through the doorway in a manner that can only be described as "cocky.â€ Honestly you don't care if they take some pride in their work as long as they get the job done and don't drive each other insane while doing it. That said, you can't help but notice the tension in the air. Was that a nervous tic from one of the crew? Your brow furrows as you contemplate the terrible implications of space madness aboard your ship.</p>
            `}a.suceededMission=k;function l(q){function p(){A(u=>{u.gameUiData.modalOpen=!0,u.gameUiData.modalId="rules",u.gameUiData.modalButtonText="Start Game",u.gameUiData.isEasy=!0})}function r(){A(u=>{u.gameUiData.modalOpen=!0,u.gameUiData.modalId="rules",u.gameUiData.modalButtonText="Start Game",u.gameUiData.isEasy=!1})}function v(){A(u=>{u.gameUiData.isSimpleGame=!0,u.gameUiData.modalOpen=!0,u.gameUiData.modalId="rules",u.gameUiData.modalButtonText="Start Game",u.gameUiData.isEasy=!0})}function y(){A(u=>{u.gameUiData.isSimpleGame=!0,u.gameUiData.modalOpen=!0,u.gameUiData.modalId="rules",u.gameUiData.modalButtonText="Start Game",u.gameUiData.isEasy=!1})}return t`
            <h2 class="modal-h2-spacing">Choose Game Type:</h2>
            <h3>Simplified Version</h3>
            <p class="modal-paragraph">A simple and very easy version of the game. Great for first time players.</p>
            <button onclick=${v}>Simple Version</button>
            <p class="modal-paragraph">A more difficult version of the simple game.</p>
            <button onclick=${y}>Advanced Simple Version</button>
            <div class="seperator"></div>
            <h3>Complex Version</h3>
            <p class="modal-paragraph">More strategy! dice rolling! Layers!</p>
            <button onClick=${p}>Complex Version</button>
            <p class="modal-paragraph">The hardest version of the game. No one has beaten it!</p>
            <button onClick=${r}>Advanced Complex Version</button>
            `}a.chooseGameType=l;function g(q){return t`
            <img src="./images/modal-content/title.jpg" alt="Space Madness title image">
            <h2 class="modal-h2-spacing">Introduction:</h2>
            <p class="modal-paragraph">You are the captain of the Orpheus, a standard class exploration ship mapping unknown sectors. In a bizarre turn of events your ship has been plagued by problems that defy imagination. It's up to you and your (mostly) faithful crew to go on a series of missions to clear the ship of these challenging situations.</p>
            <h2 class="modal-h2-spacing">Objective:</h2>
            <p class="modal-paragraph">Have your crew complete all the missions without the ship exploding or the crew driving each other space mad.</p>
            <h2 class="modal-h2-spacing">How to Play:</h2>
            <p class="modal-paragraph">Choose a mission card for your crew to attempt. Then choose 3â€“8 crew members to send on that mission. In the complex version of the game each crew member brings a die to roll and a special ability that can help them succeed with the mission.</p>
            <p class="modal-paragraph modal-bkgrd-lght-grey">But the more that crew members are sent on missions together, the more theyâ€™ll begin to annoy each other...which can lead one of them to go space mad. After each mission the crew members you sent will reveal what annoyed them about the crewmates they just worked with. Only one annoying trait can be revealed per crew member each round. When a crew member has been annoyed three times by their crewmates, they go space mad, murder everyone on the ship, and you lose the game, so plan the combination of crew to send on missions carefully.</p>
            <p class="modal-paragraph">Some key information is revealed for one crew member, chosen at random, at the start of each game.</p>
            <p class="modal-paragraph modal-bkgrd-lght-grey">In the coomplex version of the game if the crew you sent fails a mission, the mission card turns face down and any crew on that mission lose their special abilities. You can try the mission a second time, and if you succeed the mission card flips back over and the crewâ€™s special abilities are returned. But if you fail a second time, the ship explodes and you lose the game.</p>
            <h2 class="modal-h2-spacing" style="display: block;text-align: center;">Visual Glossary:</h2>
            <div class="modal-glossary-section">
            <h3>Header Bar:</h3> <p class="modal-paragraph">This is the header at the top of the page that will instruct you on what to do during each phase of the game. There will usually be a button on the right, which will be disabled until you have completed the requested task. Clicking on that button will progress you to the next phase in the game. If you are unsure what to do, you should look to header bar. The question mark icon in the top left links to these rules.
            <img style="width:500px" src="./images/modal-content/glossary/ui-bar.jpg" alt="Space Madness title image"></p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-right" style="width:300px;" src="./images/modal-content/glossary/mission-cards-simple.jpg" alt="Space Madness title image">
            <h3>Mission card:</h3><p class="modal-paragraph">These cards have a dice roll requirement that must be met. When you have successfully met the requirements of all nine mission cards, you win the game.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-left" style="width:300px;" src="./images/modal-content/glossary/crew-card-simple.jpg" alt="Space Madness title image">
            <h3>Crew cards:</h3><p class="modal-paragraph">These cards represent the crew you will send to complete missions. They include their annoying traits and a special ability you can apply to a die after it has been rolled. Crew that have failed a mission will not have an ability until they have succeeded at another mission.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-left" style="width:142px;" src="./images/modal-content/glossary/crew-ability.jpg" alt="Space Madness title image">
            <h3>Crew ability:</h3><p class="modal-paragraph">In the complex version of the game each crew member has an ability that they can apply to a die roll to meet the mission requirement. Crew that have failed a mission will not have an ability until they have succeeded at another mission.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-right" style="width:353px;" src="./images/modal-content/glossary/triggers.jpg" alt="Space Madness title image">
            <h3>Crew triggers:</h3><p class="modal-paragraph">In each game of Space Madness, the crew members are randomly given three triggers that are traits other crew have. If you send a crew on a mission and one of their triggers overlaps with another crew's trait, it will drive that crew member slowly space mad. In the image you can see that this crew member worked with Mrs. Roboto who is extremely negative and that caused this trigger to be revealed. When all three of a crew's triggers are revealed they will go space mad, murder the crew, and you will lose the game. Only one trigger is revealed per crew member each round.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-right" style="width:357px;" src="./images/modal-content/glossary/players-crew-triggers.jpg" alt="Space Madness title image">
            <h3>Known crew triggers:</h3><p class="modal-paragraph">Each game you will randomly get some information about one crew member's triggers. In-game this is represented as a crew member you have gotten to know well, and so you are intimately aware of their triggers.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-left" style="width:144px;" src="./images/modal-content/glossary/traits.jpg" alt="Space Madness title image">
            <h3>Crew traits:</h3><p class="modal-paragraph">These are annoying/frustrating traits that crew members exhibit. If your crew works together to solve a mission and their traits overlap with other team members, those triggers will get revealed. If at any point three triggers are revealed for a crew member, they go space mad and you lose the game.</p>
            </div>
        `}a.rules=g;function f(){return t`
        <h2 class="modal-h2-spacing">You must choose a least 1 mission card</h2>
        `}a.minimumMission=f;function c(){return t`
        <h2 class="modal-h2-spacing">Not enough crew to complete mission. Choose more crew</h2>
        `}a.minimumCrew=c;function h(){return t`
        <h2 class="modal-h2-spacing">You must choose another crew member for Mojo's ability</h2>
        `}a.chooseAnotherCrew=h;function i(q,p){const r=Hb(),v=r.crew[p].name;return t`
        <h2 class="modal-h2-spacing">Mojo just copied the ability of ${v}. You may now apply that ability to a die (or dice).</h2>
        `}a.mojoCopiedAbility=i;function m(){return t`
        <h2 class="modal-h2-spacing">You must select a die to continue or click the "Skip" button</h2>
        `}a.chooseADie=m;function n(){return t`
        <h2 class="modal-h2-spacing">Mojo copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability... monkey explodes. You monster.</h2>
        `}a.mojoRecursion=n})(Ra||(Ra={}));function dd(a){const{gameUiData:b,missions:d,crew:e}=a;let{modalOpen:j,modalId:k,modalButtonText:l,isSimpleGame:g,isEasy:f,mojoAbility:c}=b;i()&&b.modalId!=="madnessLose"&&(j=!0,k="madnessLose",l=void 0),h()&&b.modalId!=="win"&&(j=!0,k="win",l=void 0);function h(){let n=0;for(const q in d.lvlOne)d.lvlOne[q].succeeded||n++;for(const q in d.lvlTwo)d.lvlTwo[q].succeeded||n++;for(const q in d.lvlThree)d.lvlThree[q].succeeded||n++;if(f){if(n===3){if(d.lvlOne.weapons.succeeded===!1&&d.lvlTwo.scienceBay.succeeded===!1&&d.lvlThree.bridge.succeeded===!1)return!0}}return n>0?!1:!0}function i(){for(const q in e)if(n(e[q].triggers))return!0;return!1;function n(q){let p=0;for(const r in q)q[r]===!1&&p++;return p>2?!0:!1}}function m(){A(n=>{n.gameUiData.modalOpen=!1})}return t`
        <div class=${j?"modal-background":"re-display-none"}>
            <div class="modal-content">
                <div class=${k==="win"||k==="madnessLose"||k==="missionLose"?"re-display-none":"modal-close-icon"} onclick=${m}>X</div>
                ${Ra[k](g,c)}
                <div class=${l?"modal-buttons-wrapper":"re-display-none"}>
                    <button  onclick=${m}>${l}</button>
                </div>
            </div>
        </div>

    `}const gd=document.querySelector(".crew-cards-wrapper"),hd=document.querySelector(".mission-cards-wrapper"),id=document.querySelector(".phases-wrapper"),jd=document.querySelector(".modal-wrapper");function Fb(a){const{crew:b,missions:d,gameUiData:e}=a,{lvlOne:j,lvlTwo:k,lvlThree:l}=d;ga(hd,t`
        <div class=${g(j)?"re-display-none":"level-column"}>
            ${Object.keys(j).map((f,c)=>j[f].succeeded||c===0&&e.isEasy===!0?t`<span></span>`:t`
                    <div class="mission-grid-cell" style="top:${c*8}px;" data-i=${c}>${Qa(a,f,"lvlOne")}</div>
                `)}
        </div>
        <div class=${g(k)?"re-display-none":"level-column"}>
            ${Object.keys(k).map((f,c)=>k[f].succeeded||c===0&&e.isEasy===!0?t`<span></span>`:t`
                    <div class="mission-grid-cell" style="top:${c*8}px;" data-i=${c}>${Qa(a,f,"lvlTwo")}</div>
                `)}
        </div>
        <div class=${g(l)?"re-display-none":"level-column"}>
            ${Object.keys(l).map((f,c)=>l[f].succeeded||c===0&&e.isEasy===!0?t`<span></span>`:t`
                    <div class="mission-grid-cell" style="top:${c*8}px;" data-i=${c}>${Qa(a,f,"lvlThree")}</div>
                `)}
        </div>
    `),ga(gd,t`${Object.keys(b).map((f,c)=>t`
       <div class="crew-grid-cell" data-i=${c}>${bd(a,f)}</div>
    `)}`),ga(id,t`${ed(a)}`),ga(jd,t`${dd(a)}`);function g(f){for(const c in f)if(f[c].succeeded===!1)return e.isEasy===!0&&c!=="weapons"&&c!=="scienceBay"&&c!=="bridge",!1;return!0}}function _c(a){const b=["mrsRoboto","mrsRoboto","mrsRoboto","ambassadorAldren","ambassadorAldren","ambassadorAldren","lariLuckybeard","lariLuckybeard","lariLuckybeard","drJohnJohnson","drJohnJohnson","drJohnJohnson","subEnsignHammer","subEnsignHammer","subEnsignHammer","eliTheStowaway","eliTheStowaway","eliTheStowaway","pilotMoxyGoodwhistle","pilotMoxyGoodwhistle","pilotMoxyGoodwhistle","ltMojo","ltMojo","ltMojo"].sort(()=>Math.random()-.5);let d=[],e=[],j=0;k();function k(){l();if(d.length!==24){j++,d=[],e=[];for(const g in a.crew)a.crew[g].triggers={};k()}}function l(){a.player.crew=b[0];for(const f in a.crew)for(const c in a.crew[f].traits)e.push(c);const g=e.sort(()=>Math.random()-.5);for(let f=0;f<b.length;f++)for(let c=0;c<g.length;c++)if(!d.includes(g[c])&&!a.crew[b[f]].traits[g[c]]){a.crew[b[f]].triggers[g[c]]=!0,d.push(g[c]);break}}}$c(),_c(Z),ad(),Fb(Z);function $c(){for(const a in Z.missions)for(const b in Z.missions[a])Z.missions[a][b].story=Eb[Math.floor(Math.random()*Eb.length)]}function ad(){a("./images/die/one.png"),a("./images/die/two.png"),a("./images/die/three.png"),a("./images/die/four.png"),a("./images/die/five.png"),a("./images/die/six.png");function a(b){const d=new Image();d.src=b}}},6(d){q$(d,{default:()=>h});var c=d||{};try{c.WeakMap=WeakMap}catch(o){c.WeakMap=function(i,e){"use strict";var f=e.defineProperty,j=e.hasOwnProperty,b=g.prototype;return b.delete=function(a){return this.has(a)&&delete a[this._]},b.get=function(a){return this.has(a)?a[this._]:void 0},b.has=function(a){return j.call(a,this._)},b.set=function(a,l){return f(a,this._,{configurable:!0,value:l}),this},g;function g(a){f(this,"_",{value:"_@ungap/weakmap"+i++}),a&&a.forEach(k,this)}function k(a){this.set(a[0],a[1])}}(Math.random(),Object)}const h=c.WeakMap},3(d){q$(d,{default:()=>h});var c=d||{};try{c.WeakMap=WeakMap}catch(o){c.WeakMap=function(i,e){"use strict";var f=e.defineProperty,j=e.hasOwnProperty,b=g.prototype;return b.delete=function(a){return this.has(a)&&delete a[this._]},b.get=function(a){return this.has(a)?a[this._]:void 0},b.has=function(a){return j.call(a,this._)},b.set=function(a,l){return f(a,this._,{configurable:!0,value:l}),this},g;function g(a){f(this,"_",{value:"_@ungap/weakmap"+i++}),a&&a.forEach(k,this)}function k(a){this.set(a[0],a[1])}}(Math.random(),Object)}const h=c.WeakMap},14(d){q$(d,{default:()=>h});var c=d||{};try{c.WeakMap=WeakMap}catch(o){c.WeakMap=function(i,e){"use strict";var f=e.defineProperty,j=e.hasOwnProperty,b=g.prototype;return b.delete=function(a){return this.has(a)&&delete a[this._]},b.get=function(a){return this.has(a)?a[this._]:void 0},b.has=function(a){return j.call(a,this._)},b.set=function(a,l){return f(a,this._,{configurable:!0,value:l}),this},g;function g(a){f(this,"_",{value:"_@ungap/weakmap"+i++}),a&&a.forEach(k,this)}function k(a){this.set(a[0],a[1])}}(Math.random(),Object)}const h=c.WeakMap}};return k$(23)})();
