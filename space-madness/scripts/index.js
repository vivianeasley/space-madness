(()=>{let e$=Object.defineProperty,f$=Object.hasOwnProperty,h$={},j$,k$=a$=>{let b$=h$[a$];return b$||(b$=h$[a$]={exports:{}},j$[a$](b$.exports,b$)),b$.exports},l$=a$=>{if(a$&&a$.__esModule)return a$;let b$={};for(let c$ in a$)f$.call(a$,c$)&&(b$[c$]=a$[c$]);return b$.default=a$,b$},p$=a$=>l$(k$(a$)),q$=(a$,b$)=>{e$(a$,"__esModule",{value:!0});for(let c$ in b$)e$(a$,c$,{get:b$[c$],enumerable:!0})};j$={23(){const X={player:{name:"Anonymous",crew:void 0},gameUiData:{isMusicPlaying:!1,isSimpleGame:!1,lost:!1,modalOpen:!0,modalId:"chooseGameType",modalButtonText:void 0,phaseChange:!0,phase:0,activeTurn:0,turnOrder:["Anonymous"],selectedDice:[],crewOnMission:{},selectedMissionLvl:void 0,selectedMissionId:void 0,currentCrewAbility:void 0,lastAbilityUsed:void 0,mojoAbility:void 0,players:{Anonymous:"mrsroboto"},gameHistory:[]},missions:{lvlOne:{weapons:{simpleMissionTarget:5,isSelected:!1,succeeded:!1,imgBkgrd:"weapons",imgLayerFrame:"rule-greater-than",imgLayerTarget:void 0,targetNumber:15,targetRuleText:"Roll total greater than 15",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlThreeOver",name:"Weapons",story:""},powerCore:{simpleMissionTarget:4,isSelected:!1,succeeded:!1,imgBkgrd:"power-core",imgLayerFrame:"rule-greater-than",imgLayerTarget:void 0,targetNumber:10,targetRuleText:"Roll total greater than 10",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlTwoOver",name:"Power Core",story:""},dockingBay:{simpleMissionTarget:3,isSelected:!1,succeeded:!1,imgBkgrd:"docking-bay",imgLayerFrame:"rule-greater-than",imgLayerTarget:void 0,targetNumber:5,targetRuleText:"Roll total greater than 5",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlOneOver",name:"Docking Bay",story:""}},lvlTwo:{scienceBay:{simpleMissionTarget:5,isSelected:!1,succeeded:!1,imgBkgrd:"science-bay",imgLayerFrame:"rule-roll-exactly",imgLayerTarget:"die-roll-one-two-three",targetNumber:void 0,targetRuleText:"Roll a 1, 2, and 3",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlThreeNum",name:"Science Bay",story:""},medicalBay:{simpleMissionTarget:4,isSelected:!1,succeeded:!1,imgBkgrd:"medical-bay",imgLayerFrame:"rule-roll-exactly",imgLayerTarget:"die-roll-four-five",targetNumber:void 0,targetRuleText:"Roll a 4, and 5",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlTwoNum",name:"Medical Bay",story:""},engineRoom:{simpleMissionTarget:3,isSelected:!1,succeeded:!1,imgBkgrd:"engine-room",imgLayerFrame:"rule-roll-exactly",imgLayerTarget:"die-roll-six",targetNumber:void 0,targetRuleText:"Roll a 6",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlOneNum",name:"Engine Room",story:""}},lvlThree:{bridge:{simpleMissionTarget:5,isSelected:!1,succeeded:!1,imgBkgrd:"bridge",imgLayerFrame:"rule-less-than",imgLayerTarget:void 0,targetNumber:6,targetRuleText:"Roll total less than 6",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlThreeUnder",name:"Bridge",story:""},messHall:{simpleMissionTarget:4,isSelected:!1,succeeded:!1,failed:!1,imgBkgrd:"mess-hall",imgLayerFrame:"rule-less-than",imgLayerTarget:void 0,targetNumber:8,targetRuleText:"Roll total less than 8",imgBack:"die-roll-two-same",successCheck:"lvlTwoUnder",name:"Mess Hall",story:""},dormitory:{simpleMissionTarget:3,isSelected:!1,succeeded:!1,imgBkgrd:"dormitory",imgLayerFrame:"rule-less-than",imgLayerTarget:void 0,targetNumber:12,targetRuleText:"Roll total less than 12",imgBack:"die-roll-two-same",failed:!1,successCheck:"lvlOneUnder",name:"Dormitory",story:""}}},crew:{mrsRoboto:{die:1,rolling:!1,animations:2,name:"Mrs. Roboto",isSelected:!1,isActive:"active",abilityText:"Reroll any one die",ability:"rerollOne",triggers:{},img:"mrs-roboto",traits:{negative:!0,"self-centered":!0,fidgety:!0}},ambassadorAldren:{die:1,rolling:!1,animations:4,name:"Ambassador Aldren",isSelected:!1,isActive:"active",abilityText:"Reroll any two die",ability:"rerollTwo",triggers:{},img:"ambassador-alden",traits:{screams:!0,micromanager:!0,stubborn:!0}},lariLuckybeard:{die:1,rolling:!1,animations:3,name:"Lari Luckybeard",isSelected:!1,isActive:"active",abilityText:"Add one to a die",ability:"addOne",triggers:{},img:"lari-luckybeard",traits:{"space diva":!0,mummbles:!0,braggart:!0}},drJohnJohnson:{die:1,rolling:!1,animations:1,name:"Dr. John Johnson",isSelected:!1,isActive:"active",abilityText:"Add two to a die",ability:"addTwo",triggers:{},img:"dr-john-johnson",traits:{"nerd bully":!0,"bad puns":!0,"space nudist":!0}},subEnsignHammer:{die:1,rolling:!1,animations:2,name:"Sub-ensign Hammer",isSelected:!1,isActive:"active",abilityText:"Subtract one from a die",ability:"subtractOne",triggers:{},img:"sub-ensign-hammer",traits:{lazy:!0,rude:!0,lecherous:!0}},eliTheStowaway:{die:1,rolling:!1,animations:4,name:"Eli the Stowaway",isSelected:!1,isActive:"active",abilityText:"Subtract two from a die",ability:"subtractTwo",triggers:{},img:"eli-the-stowaway",traits:{"humms loudly":!0,irrational:!0,"ignores rules":!0}},pilotMoxyGoodwhistle:{die:1,rolling:!1,animations:1,name:"Pilot Moxy Goodwhistle",isSelected:!1,isActive:"active",abilityText:"Flip a die over",ability:"flip",triggers:{},img:"moxy-goodwhistle",traits:{condescending:!0,"space cultist":!0,"compulsive liar":!0}},ltMojo:{die:1,rolling:!1,animations:3,name:"Lt. Mojo",isSelected:!1,isActive:"active",abilityText:"Use another crew members ability",ability:"chooseAbility",triggers:{},img:"mojo",traits:{"space fetishist":!0,pretentious:!0,entitled:!0}}}},Db=["Frayed wire","Hull breach","Exploding console","Trampoline","Laser show","Escaped experiment","Space werewolves","Space aliens","Space ghosts","Space vampires","Time bomb","Space leprechaun","Creepy murder child","Giant space ant","Space cultist","Space dragon","Space policeman","Alien sport hunter","Fire","Carnivorous plants","Cthulhu","Velociraptors","Bounty hunters","Metal eating robots","Evil Santa","Overflowing toilet","Shape shifter","Robots!","Samurai duel","30 kindergardeners","Plethora of puppies"];const td=p$(3);var Sa=typeof document!=="object",ya=function(a){var b="raw",c=function(d){return/(Firefox|Safari)\/(\d+)/.test(d)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(d)},e=c((document.defaultView.navigator||{}).userAgent),j=!(b in a)||a.propertyIsEnumerable(b)||!Object.isFrozen(a[b]);if(e||j){var l={},k=function(d){for(var g=".",i=0;i<d.length;i++)g+=d[i].length+"."+d[i];return l[g]||(l[g]=d)};if(j)ya=k;else{var h=new td.default(),f=function(d,g){return h.set(d,g),g};ya=function(d){return h.get(d)||f(d,k(d))}}}else Sa=!0;return Ta(a)};const Lb=Ta;function Ta(a){return Sa?a:ya(a)}function Mb(a){for(var b=arguments.length,c=[Lb(a)],e=1;e<b;)c.push(arguments[e++]);return c}var L="-"+Math.random().toFixed(6)+"%",fa=!1;try{(function(a,b,c){return b in a&&(a.innerHTML="<p "+c+'="'+L+'"></p>',a[b].childNodes[0].getAttribute(c)==L)})(document.createElement("template"),"content","tabindex")||(L="_dt: "+L.slice(1,-1)+";",fa=!0)}catch(a){}var Y="<!--"+L+"-->",Va=8,Ob=11,Wa=1,Xa=3,za=/^(?:style|textarea)$/i,Ya=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;function $a(a){return a.join(Y).replace(ac,ec).replace($b,cc)}var ia=" \\f\\n\\r\\t",ab="[^"+ia+`\\/>"'=]+`,Ba="["+ia+"]+"+ab,bb="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",cb=`(?:\\s*=\\s*(?:'[^']*?'|"[^"]*?"|<[^>]*?>|`+ab.replace("\\/","")+"))?)",$b=new RegExp(bb+Ba+cb+"+)(["+ia+"]*/?>)","g"),ac=new RegExp(bb+Ba+cb+"*)(["+ia+"]*/>)","g"),bc=new RegExp("("+Ba+`\\s*=\\s*)(['"]?)`+Y+"\\2","gi");function cc(a,b,c,e){return"<"+b+c.replace(bc,dc)+e}function dc(a,b,c){return b+(c||'"')+L+(c||'"')}function ec(a,b,c){return Ya.test(b)?a:"<"+b+c+"></"+b+">"}const{isArray:ca}=Array,{indexOf:_a,slice:W}=[];const Ca=a=>({get:b=>a.get(b),set:(b,c)=>(a.set(b,c),c)});const Wc=1,Cb=111,Xc=({firstChild:a,lastChild:b})=>{const c=document.createRange();return c.setStartAfter(a),c.setEndAfter(b),c.deleteContents(),a};const Rc=(a,b)=>a.nodeType===Cb?1/b<0?b?Xc(a):a.lastChild:b?a.valueOf():a.firstChild:a,Ic=a=>{const{childNodes:b}=a,{length:c}=b;if(c<2)return b[0];const e=W.call(b,0),j=e[0],l=e[c-1];return{ELEMENT_NODE:Wc,nodeType:Cb,firstChild:j,lastChild:l,valueOf(){if(b.length!==c){let k=0;for(;k<c;)a.appendChild(e[k++])}return a}}};var Gb=function(a){"use strict";var b="fragment",c="template",e="content"in k(c),j=e?function(f){var d=k(c);return d.innerHTML=f,d.content}:function(f){var d=k(b),g=k(c),i=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(f)){var m=RegExp.$1;g.innerHTML="<table>"+f+"</table>",i=g.querySelectorAll(m)}else g.innerHTML=f,i=g.childNodes;return l(d,i),d};return function f(d,g){return(g==="svg"?h:j)(d)};function l(f,d){for(var g=d.length;g--;)f.appendChild(d[0])}function k(f){return f===b?a.createDocumentFragment():a.createElementNS("http://www.w3.org/1999/xhtml",f)}function h(f){var d=k(b),g=k("div");return g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+f+"</svg>",l(d,g.firstChild.childNodes),d}}(document);const Hb=Gb;const P=(a,b,c,e,j,l)=>{const k="selectedIndex"in b;let h=k;for(;e<j;){const f=a(c[e],1);b.insertBefore(f,l);if(k&&h&&f.selected){h=!h;let{selectedIndex:d}=b;b.selectedIndex=d<0?e:_a.call(b.querySelectorAll("option"),f)}e++}},Pb=(a,b)=>a==b,Qb=a=>a,Za=(a,b,c,e,j,l,k)=>{const h=l-j;if(h<1)return-1;for(;c-b>=h;){let f=b,d=j;for(;f<c&&d<l&&k(a[f],e[d]);)f++,d++;if(d===l)return b;b=f+1}return-1},Rb=(a,b,c,e,j,l)=>{for(;e<j&&l(c[e],a[b-1]);)e++,b--;return b===0},Aa=(a,b,c,e,j)=>c<e?a(b[c],0):0<c?a(b[c-1],-0).nextSibling:j,Z=(a,b,c,e)=>{for(;c<e;)Zb(a(b[c++],-1))};const _=-1,ga=1,ha=0,Ub=50,Vb=(a,b,c,e,j,l,k,h)=>{let f=0,d=e<h?e:h;const g=Array(d++),i=Array(d);i[0]=-1;for(let o=1;o<d;o++)i[o]=k;const m=j.slice(l,k);for(let o=b;o<c;o++){const r=m.indexOf(a[o]);if(-1<r){const u=r+l;f=Yb(i,d,u),-1<f&&(i[f]=u,g[f]={newi:o,oldi:u,prev:g[f-1]})}}for(f=--d,--k;i[f]>k;)--f;d=h+e-f;const p=Array(d);let q=g[f];for(--c;q;){const{newi:o,oldi:r}=q;for(;c>o;)p[--d]=ga,--c;for(;k>r;)p[--d]=_,--k;p[--d]=ha,--c,--k,q=q.prev}for(;c>=b;)p[--d]=ga,--c;for(;k>=l;)p[--d]=_,--k;return p},Wb=(a,b,c,e,j,l,k)=>{const h=c+l,f=[];let d,g,i,m,p,q,o;Ra:for(d=0;d<=h;d++){if(d>Ub)return null;for(o=d-1,p=d?f[d-1]:[0,0],q=f[d]=[],g=-d;g<=d;g+=2){for(g===-d||g!==d&&p[o+g-1]<p[o+g+1]?m=p[o+g+1]:m=p[o+g-1]+1,i=m-g;m<l&&i<c&&k(e[j+m],a[b+i]);)m++,i++;if(m===l&&i===c)break Ra;q[d+g]=m}}const r=Array(d/2+h/2);let u=r.length-1;for(d=f.length-1;d>=0;d--){for(;m>0&&i>0&&k(e[j+m-1],a[b+i-1]);)r[u--]=ha,m--,i--;if(!d)break;o=d-1,p=d?f[d-1]:[0,0],g=m-i,g===-d||g!==d&&p[o+g-1]<p[o+g+1]?(i--,r[u--]=ga):(m--,r[u--]=_)}return r},Xb=(a,b,c,e,j,l,k,h,f)=>{const d=[],g=a.length;let i=k,m=0;for(;m<g;)switch(a[m++]){case ha:j++,i++;break;case ga:d.push(e[j]),P(b,c,e,j++,j,i<h?b(l[i],0):f);break;case _:i++;break}for(m=0;m<g;)switch(a[m++]){case ha:k++;break;case _:-1<d.indexOf(l[k])?k++:Z(b,l,k++,k);break}},Yb=(a,b,c)=>{let e=1,j=b;for(;e<j;){const l=(e+j)/2>>>0;c<a[l]?j=l:e=l+1}return e};const Sb=(a,b,c,e,j,l,k,h,f,d,g,i,m)=>{Xb(Wb(c,e,l,k,h,d,i)||Vb(c,e,j,l,k,h,f,d),a,b,c,e,k,h,g,m)};const Zb=a=>(a.remove||_b).call(a);function _b(){const{parentNode:a}=this;a&&a.removeChild(this)}const Tb=(a,b,c,e)=>{e||(e={});const j=e.compare||Pb,l=e.node||Qb,k=e.before==null?null:l(e.before,0),h=b.length;let f=h,d=0,g=c.length,i=0;for(;d<f&&i<g&&j(b[d],c[i]);)d++,i++;for(;d<f&&i<g&&j(b[f-1],c[g-1]);)f--,g--;const m=d===f,p=i===g;if(m&&p)return c;if(m&&i<g)return P(l,a,c,i,g,Aa(l,b,d,h,k)),c;if(p&&d<f)return Z(l,b,d,f),c;const q=f-d,o=g-i;let r=-1;if(q<o){r=Za(c,i,g,b,d,f,j);if(-1<r)return P(l,a,c,i,r,l(b[d],0)),P(l,a,c,r+q,g,Aa(l,b,f,h,k)),c}else if(o<q){r=Za(b,d,f,c,i,g,j);if(-1<r)return Z(l,b,d,r),Z(l,b,r+o,f),c}return q<2||o<2?(P(l,a,c,i,g,l(b[d],0)),Z(l,b,d,f),c):q===o&&Rb(c,g,b,d,f,j)?(P(l,a,c,i,g,Aa(l,b,f,h,k)),c):(Sb(l,a,c,i,g,o,b,d,f,q,h,j,k),c)};const Q=Tb;var pc=function(a){"use strict";var b="fragment",c="template",e="content"in k(c),j=e?function(f){var d=k(c);return d.innerHTML=f,d.content}:function(f){var d=k(b),g=k(c),i=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(f)){var m=RegExp.$1;g.innerHTML="<table>"+f+"</table>",i=g.querySelectorAll(m)}else g.innerHTML=f,i=g.childNodes;return l(d,i),d};return function f(d,g){return(g==="svg"?h:j)(d)};function l(f,d){for(var g=d.length;g--;)f.appendChild(d[0])}function k(f){return f===b?a.createDocumentFragment():a.createElementNS("http://www.w3.org/1999/xhtml",f)}function h(f){var d=k(b),g=k("div");return g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+f+"</svg>",l(d,g.firstChild.childNodes),d}}(document);const gc=pc;var Ib=function(a,b,c,e,j){var l=j in a,k=a.createDocumentFragment();k[b](a[e]("g")),k[b](a[e](""));var h=l?a[j](k,!0):k[c](!0);return h.childNodes.length<2?function f(d,g){for(var i=d[c](),m=d.childNodes||[],p=m.length,q=0;g&&q<p;q++)i[b](f(m[q],g));return i}:l?a[j]:function(f,d){return f[c](!!d)}}(document,"appendChild","cloneNode","createTextNode","importNode");const Jb=Ib;var Nb="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")};const Ua=Nb;var mc=fa?function(a,b){var c=b.join(" ");return b.slice.call(a,0).sort(function(e,j){return c.indexOf(e.name)<=c.indexOf(j.name)?-1:1})}:function(a,b){return b.slice.call(a,0)};function db(a,b){for(var c=b.length,e=0;e<c;)a=a.childNodes[b[e++]];return a}function Da(a,b,c,e){for(var j=a.childNodes,l=j.length,k=0;k<l;){var h=j[k];switch(h.nodeType){case Wa:var f=e.concat(k);nc(h,b,c,f),Da(h,b,c,f);break;case Va:var d=h.textContent;if(d===L)c.shift(),b.push(za.test(a.nodeName)?hb(a,e):oc(h,e.concat(k)));else switch(d.slice(0,2)){case"/*":if(d.slice(-2)!=="*/")break;case"ðŸ‘»":a.removeChild(h),k--,l--}break;case Xa:za.test(a.nodeName)&&Ua.call(h.textContent)===Y&&(c.shift(),b.push(hb(a,e)));break}k++}}function nc(a,b,c,e){for(var j=a.attributes,l=[],k=[],h=mc(j,c),f=h.length,d=0;d<f;){var g=h[d++],i=g.value===L,m;if(i||1<(m=g.value.split(Y)).length){var p=g.name;if(l.indexOf(p)<0){l.push(p);var q=c.shift().replace(i?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+p+`)\\s*=\\s*('|")[\\S\\s]*`,"i"),"$1"),o=j[q]||j[q.toLowerCase()];if(i)b.push(gb(o,e,q,null));else{for(var r=m.length-2;r--;)c.shift();b.push(gb(o,e,q,m))}}k.push(g)}}f=k.length,d=0;for(var u=0<f&&fa&&!("ownerSVGElement"in a);d<f;){var y=k[d++];u&&(y.value=""),a.removeAttribute(y.name)}var z=a.nodeName;if(/^script$/i.test(z)){var B=document.createElement(z);for(f=j.length,d=0;d<f;)B.setAttributeNode(j[d++].cloneNode(!0));B.textContent=a.textContent,a.parentNode.replaceChild(B,a)}}function oc(a,b){return{type:"any",node:a,path:b}}function gb(a,b,c,e){return{type:"attr",node:a,path:b,name:c,sparse:e}}function hb(a,b){return{type:"text",node:a,path:b}}const Td=p$(14);const hc=lc;var eb=Ca(new Td.default());function ic(a,b){var c=(a.convert||$a)(b),e=a.transform;e&&(c=e(c));var j=gc(c,a.type);fb(j);var l=[];return Da(j,l,b.slice(0),[]),{content:j,updates:function(k){for(var h=[],f=l.length,d=0,g=0;d<f;){var i=l[d++],m=db(k,i.path);switch(i.type){case"any":h.push({fn:a.any(m,[]),sparse:!1});break;case"attr":var p=i.sparse,q=a.attribute(m,i.name,i.node);p===null?h.push({fn:q,sparse:!1}):(g+=p.length-2,h.push({fn:q,sparse:!0,values:p}));break;case"text":h.push({fn:a.text(m),sparse:!1}),m.textContent="";break}}return f+=g,function(){var o=arguments.length;if(f!==o-1)throw new Error(o-1+" values instead of "+f+`
`+b.join("${value}"));for(var r=1,u=1;r<o;){var y=h[r-u];if(y.sparse){var z=y.values,B=z[0],v=1,C=z.length;for(u+=C-2;v<C;)B+=arguments[r++]+z[v++];y.fn(B)}else y.fn(arguments[r++])}return k}}}}function jc(a,b){var c=eb.get(b)||eb.set(b,ic(a,b));return c.updates(Jb.call(document,c.content,!0))}var kc=[];function lc(a){var b=kc,c=fb;return function(e){return b!==e&&(c=jc(a,b=e)),c.apply(null,arguments)}}function fb(a){for(var b=a.childNodes,c=b.length;c--;){var e=b[c];e.nodeType!==1&&Ua.call(e.textContent).length===0&&a.removeChild(e)}}var qc=function(){"use strict";var a=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,b=/([^A-Z])([A-Z]+)/g;return function k(h,f){return"ownerSVGElement"in h?e(h,f):l(h.style,!1)};function c(k,h,f){return h+"-"+f.toLowerCase()}function e(k,h){var f;return h?f=h.cloneNode(!0):(k.setAttribute("style","--hyper:style;"),f=k.getAttributeNode("style")),f.value="",k.setAttributeNode(f),l(f,!0)}function j(k){var h,f=[];for(h in k)f.push(h.replace(b,c),":",k[h],";");return f.join("")}function l(k,h){var f,d;return function(g){var i,m,p,q;switch(typeof g){case"object":if(g){if(f==="object"){if(!h){if(d!==g)for(m in d)m in g||(k[m]="")}}else h?k.value="":k.cssText="";i=h?{}:k;for(m in g)q=g[m],p=typeof q==="number"&&!a.test(m)?q+"px":q,!h&&/^--/.test(m)?i.setProperty(m,p):i[m]=p;f="object",h?k.value=j(d=i):d=g;break}default:d!=g&&(f="string",d=g,h?k.value=g||"":k.cssText=g||"");break}}}}();const rc=qc;const Nc=a=>b=>{for(const c in b)a.setAttribute(c==="role"?c:`aria-${c}`,b[c])},Ab=(a,b)=>{let c,e=!0;const j=document.createAttributeNS(null,b);return l=>{c!==l&&(c=l,c==null?e||(a.removeAttributeNode(j),e=!0):(j.value=l,e&&(a.setAttributeNodeNS(j),e=!1)))}},Oc=({dataset:a})=>b=>{for(const c in b)a[c]=b[c]},Pc=(a,b)=>{let c,e=b.slice(2);return!(b in a)&&b.toLowerCase()in a&&(e=e.toLowerCase()),j=>{const l=ca(j)?j:[j,!1];c!==l[0]&&(c&&a.removeEventListener(e,c,l[1]),(c=l[0])&&a.addEventListener(e,c,l[1]))}},Qc=a=>b=>{typeof b==="function"?b(a):b.current=a},Bb=(a,b)=>c=>{a[b]=c},Pe=a=>{let b;return c=>{b!=c&&(b=c,a.textContent=c==null?"":c)}};const Sc=(a,b)=>{let c;return e=>{c!==e&&(c=e,a[b]!==e&&(e==null?(a[b]="",a.removeAttribute(b)):a[b]=e))}},Tc=/^(?:form|list)$/i,Uc=(a,b)=>a.ownerDocument.createTextNode(b);function ta(a){return this.type=a,hc(this)}ta.prototype={attribute(a,b,c){const e=this.type==="svg";switch(b){case"class":if(e)return Ab(a,b,e);b="className";case"props":return Bb(a,b);case"aria":return Nc(a);case"data":return Oc(a);case"style":return rc(a,c,e);case"ref":return Qc(a);default:return b.slice(0,1)==="."?Bb(a,b.slice(1)):b.slice(0,2)==="on"?Pc(a,b):b in a&&!(e||Tc.test(b))?Sc(a,b):Ab(a,b,e)}},any(a,b){const c={node:Rc,before:a},{type:e}=this;let j=!1,l;const k=h=>{switch(typeof h){case"string":case"number":case"boolean":j?l!==h&&(l=h,b[0].textContent=h):(j=!0,l=h,b=Q(a.parentNode,b,[Uc(a,h)],c));break;case"function":k(h(a));break;case"object":case"undefined":if(h==null){j=!1,b=Q(a.parentNode,b,[],c);break}default:j=!1,l=h;if(ca(h))if(h.length===0)b.length&&(b=Q(a.parentNode,b,[],c));else switch(typeof h[0]){case"string":case"number":case"boolean":k(String(h));break;case"function":k(h.map(Vc,a));break;case"object":ca(h[0])&&(h=h.concat.apply([],h));default:b=Q(a.parentNode,b,h,c);break}else"ELEMENT_NODE"in h?b=Q(a.parentNode,b,h.nodeType===11?W.call(h.childNodes):[h],c):"text"in h?k(String(h.text)):"any"in h?k(h.any):"html"in h?b=Q(a.parentNode,b,W.call(Hb([].concat(h.html).join(""),e).childNodes),c):"length"in h&&k(W.call(h));break}};return k},text(a){let b;const c=e=>{if(b!==e){b=e;const j=typeof e;j==="object"&&e?"text"in e?c(String(e.text)):"any"in e?c(e.any):"html"in e?c([].concat(e.html).join("")):"length"in e&&c(W.call(e).join("")):j==="function"?c(e(a)):a.textContent=e==null?"":e}};return c}};function Vc(a){return a(this)}const qe=p$(6);const{create:ub,freeze:Jc,keys:Kc}=Object,Lc=ta.prototype,vb=Ca(new qe.default()),wb=a=>({html:xb("html",a),svg:xb("svg",a),render(b,c){const e=typeof c==="function"?c():c,j=vb.get(b)||vb.set(b,da()),l=e instanceof va?ua(a,j,e):e;return l!==j.wire&&(j.wire=l,b.textContent="",b.appendChild(l.valueOf())),b}}),da=()=>({stack:[],entry:null,wire:null}),xb=(a,b)=>{const c=Ca(new qe.default()),e=l=>function(){return ua(b,l,j.apply(null,arguments))};return j.for=(l,k)=>{const h=c.get(l)||c.set(l,ub(null));return h[k]||(h[k]=e(da()))},j.node=function(){return ua(b,da(),j.apply(null,arguments)).valueOf()},j;function j(){return new va(a,Mb.apply(null,arguments))}},ua=(a,b,{type:c,template:e,values:j})=>{const{length:l}=j;yb(a,b,j,l);let{entry:k}=b;if(!k||(k.template!==e||k.type!==c)){const h=new a(c);b.entry=k={type:c,template:e,tag:h,wire:Ic(h(e,...j))}}else k.tag(e,...j);return k.wire},yb=(a,{stack:b},c,e)=>{for(let j=0;j<e;j++){const l=c[j];l instanceof Mc?c[j]=ua(a,b[j]||(b[j]=da()),l):ca(l)?yb(a,b[j]||(b[j]=da()),l,l.length):b[j]=null}e<b.length&&b.splice(e)};Jc(va);function va(a,b){this.type=a,this.template=b.shift(),this.values=b}const Mc=va,xe=a=>{const b=ub(Lc);return Kc(a).forEach(e=>{b[e]=a[e](b[e]||(e==="convert"?$a:String))}),c.prototype=b,wb(c);function c(){return ta.apply(this,arguments)}};const{render:ea,html:s,svg:zb}=wb(ta);function E(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];if("production"!==process.env.NODE_ENV){var j=Ac[a],l=j?"function"==typeof j?j.apply(null,c):j:"unknown error nr: "+a;throw Error("[Immer] "+l)}throw Error("[Immer] minified error nr: "+a+(c.length?" "+c.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function N(a){return!!a&&!!a[w]}function J(a){return!!a&&(function(b){if(!b||"object"!=typeof b)return!1;var c=Object.getPrototypeOf(b);return!c||c===Object.prototype}(a)||Array.isArray(a)||!!a[Ma]||!!a.constructor[Ma]||ka(a)||la(a))}function sc(a){if(a&&a[w])return a[w].t}function K(a,b,c){void 0===c&&(c=!1),0===R(a)?(c?Object.keys:Bc)(a).forEach(function(e){return b(e,a[e],a)}):a.forEach(function(e,j){return b(j,e,a)})}function R(a){var b=a[w];return b?b.i>3?b.i-4:b.i:Array.isArray(a)?1:ka(a)?2:la(a)?3:0}function S(a,b){return 2===R(a)?a.has(b):Object.prototype.hasOwnProperty.call(a,b)}function ja(a,b){return 2===R(a)?a.get(b):a[b]}function $(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b}function ka(a){return yc&&a instanceof Map}function la(a){return zc&&a instanceof Set}function F(a){return a.o||a.t}function aa(a,b){if(void 0===b&&(b=!1),Array.isArray(a))return a.slice();var c=Object.create(Object.getPrototypeOf(a));return K(a,function(e){if(e!==w){var j=Object.getOwnPropertyDescriptor(a,e),l=j.value;j.get&&(b||E(1),l=j.get.call(a)),j.enumerable?c[e]=l:Object.defineProperty(c,e,{value:l,writable:!0,configurable:!0})}}),c}function Ea(a,b){N(a)||ib(a)||!J(a)||(R(a)>1&&(a.set=a.add=a.clear=a.delete=tc),Object.freeze(a),b&&K(a,function(c,e){return Ea(e,!0)},!0))}function tc(){E(2)}function ib(a){return null==a||"object"!=typeof a||Object.isFrozen(a)}function M(a){var b=rb[a];return b||E("production"!==process.env.NODE_ENV?18:19,a),b}function Fa(a,b){rb[a]=b}function ba(){return"production"===process.env.NODE_ENV||V||E(0),V}function Ga(a,b){b&&(M("Patches"),a.u=[],a.s=[],a.v=b)}function ma(a){Ha(a),a.p.forEach(uc),a.p=null}function Ha(a){a===V&&(V=a.l)}function jb(a){return V={p:[],l:V,h:a,m:!0,_:0}}function uc(a){var b=a[w];0===b.i||1===b.i?b.j():b.O=!0}function Ia(a,b){b._=b.p.length;var c=b.p[0],e=void 0!==a&&a!==c;return b.h.g||M("ES5").S(b,a,e),e?(c[w].P&&(ma(b),E(4)),J(a)&&(a=na(b,a),b.l||oa(b,a)),b.u&&M("Patches").M(c[w],a,b.u,b.s)):a=na(b,c,[]),ma(b),b.u&&b.v(b.u,b.s),a!==La?a:void 0}function na(a,b,c){if(ib(b))return b;var e=b[w];if(!e)return K(b,function(l,k){return kb(a,e,b,l,k,c)},!0),b;if(e.A!==a)return b;if(!e.P)return oa(a,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var j=4===e.i||5===e.i?e.o=aa(e.k,!0):e.o;K(j,function(l,k){return kb(a,e,j,l,k,c)}),oa(a,j,!1),c&&a.u&&M("Patches").R(e,c,a.u,a.s)}return e.o}function kb(a,b,c,e,j,l){if("production"!==process.env.NODE_ENV&&j===c&&E(5),N(j)){var k=na(a,j,l&&b&&3!==b.i&&!S(b.D,e)?l.concat(e):void 0);if(f=e,d=k,2===(g=R(h=c))?h.set(f,d):3===g?(h.delete(f),h.add(d)):h[f]=d,!N(k))return;a.m=!1}var h,f,d,g;if((!b||!$(j,ja(b.t,e)))&&J(j)){if(!a.h.N&&a._<1)return;na(a,j),b&&b.A.l||oa(a,j)}}function oa(a,b,c){void 0===c&&(c=!1),a.h.N&&a.m&&Ea(b,c)}function Ja(a,b){var c=a[w],e=Reflect.getOwnPropertyDescriptor(c?F(c):a,b);return e&&e.value}function pa(a){if(!a.P){if(a.P=!0,0===a.i||1===a.i){var b=a.o=aa(a.t);K(a.p,function(c,e){b[c]=e}),a.p=void 0}a.l&&pa(a.l)}}function lb(a){a.o||(a.o=aa(a.t))}function T(a,b,c){var e=ka(b)?M("MapSet").T(b,c):la(b)?M("MapSet").F(b,c):a.g?function(j,l){var k=Array.isArray(j),h={i:k?1:0,A:l?l.A:ba(),P:!1,I:!1,D:{},l,t:j,k:null,p:{},o:null,j:null,C:!1},f=h,d=ra;k&&(f=[h],d=sa);var g=Proxy.revocable(f,d),i=g.revoke,m=g.proxy;return h.k=m,h.j=i,m}(b,c):M("ES5").J(b,c);return(c?c.A:ba()).p.push(e),e}function U(a,b){a.g?pa(b):M("ES5").K(b)}function mb(){function a(d,g){var i=d[w];if(i&&!i.$){i.$=!0;var m=d[g];return i.$=!1,m}return d[g]}function b(d){d.P||(d.P=!0,d.l&&b(d.l))}function c(d){d.o||(d.o=e(d.t))}function e(d){var g=d&&d[w];if(g){g.$=!0;var i=aa(g.k,!0);return g.$=!1,i}return aa(d)}function j(d){for(var g=d.length-1;g>=0;g--){var i=d[g][w];if(!i.P)switch(i.i){case 5:k(i)&&b(i);break;case 4:l(i)&&b(i)}}}function l(d){for(var g=d.t,i=d.k,m=Object.keys(i),p=m.length-1;p>=0;p--){var q=m[p],o=g[q];if(void 0===o&&!S(g,q))return!0;var r=i[q],u=r&&r[w];if(u?u.t!==o:!$(r,o))return!0}return m.length!==Object.keys(g).length}function k(d){var g=d.k;if(g.length!==d.t.length)return!0;var i=Object.getOwnPropertyDescriptor(g,g.length-1);return!(!i||i.get)}function h(d){d.O&&E(3,JSON.stringify(F(d)))}var f={};Fa("ES5",{J:function(d,g){var i=Array.isArray(d),m=e(d);K(m,function(q){!function(o,r,u){var y=f[r];y?y.enumerable=u:f[r]=y={enumerable:u,get:function(){return function(z,B){h(z);var v=a(F(z),B);return z.$?v:v===a(z.t,B)&&J(v)?(c(z),z.o[B]=T(z.A.h,v,z)):v}(this[w],r)},set:function(z){!function(B,v,C){if(h(B),B.D[v]=!0,!B.P){if($(C,a(F(B),v)))return;b(B),c(B)}B.o[v]=C}(this[w],r,z)}},Object.defineProperty(o,r,y)}(m,q,i||function(o,r){var u=Object.getOwnPropertyDescriptor(o,r);return!(!u||!u.enumerable)}(d,q))});var p={i:i?5:4,A:g?g.A:ba(),P:!1,$:!1,I:!1,D:{},l:g,t:d,k:m,o:null,O:!1,C:!1};return Object.defineProperty(m,w,{value:p,writable:!0}),m},K:b,S:function(d,g,i){d.p.forEach(function(m){m[w].$=!0}),i?N(g)&&g[w].A===d&&j(d.p):(d.u&&function m(p){if(p&&"object"==typeof p){var q=p[w];if(q){var o=q.t,r=q.k,u=q.D,y=q.i;if(4===y)K(r,function(D){D!==w&&(void 0!==o[D]||S(o,D)?u[D]||m(r[D]):(u[D]=!0,b(q)))}),K(o,function(D){void 0!==r[D]||S(r,D)||(u[D]=!1,b(q))});else if(5===y){if(k(q)&&(b(q),u.length=!0),r.length<o.length)for(var z=r.length;z<o.length;z++)u[z]=!1;else for(var B=o.length;B<r.length;B++)u[B]=!0;for(var v=Math.min(r.length,o.length),C=0;C<v;C++)void 0===u[C]&&m(r[C])}}}}(d.p[0]),j(d.p))}})}function nb(){function a(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(a);if(ka(e))return new Map(Array.from(e.entries()).map(function(k){return[k[0],a(k[1])]}));if(la(e))return new Set(Array.from(e).map(a));var j=Object.create(Object.getPrototypeOf(e));for(var l in e)j[l]=a(e[l]);return j}function b(e){return N(e)?a(e):e}var c="add";Fa("Patches",{U:function(e,j){return j.forEach(function(l){for(var k=l.path,h=l.op,f=e,d=0;d<k.length-1;d++)"object"!=typeof(f=ja(f,k[d]))&&E(15,k.join("/"));var g=R(f),i=a(l.value),m=k[k.length-1];switch(h){case"replace":switch(g){case 2:return f.set(m,i);case 3:E(16);default:return f[m]=i}case c:switch(g){case 1:return f.splice(m,0,i);case 2:return f.set(m,i);case 3:return f.add(i);default:return f[m]=i}case"remove":switch(g){case 1:return f.splice(m,1);case 2:return f.delete(m);case 3:return f.delete(l.value);default:return delete f[m]}default:E(17,h)}}),e},R:function(e,j,l,k){switch(e.i){case 0:case 4:case 2:return function(h,f,d,g){var i=h.t,m=h.o;K(h.D,function(p,q){var o=ja(i,p),r=ja(m,p),u=q?S(i,p)?"replace":c:"remove";if(o!==r||"replace"!==u){var y=f.concat(p);d.push("remove"===u?{op:u,path:y}:{op:u,path:y,value:r}),g.push(u===c?{op:"remove",path:y}:"remove"===u?{op:c,path:y,value:b(o)}:{op:"replace",path:y,value:b(o)})}})}(e,j,l,k);case 5:case 1:return function(h,f,d,g){var i=h.t,m=h.D,p=h.o;if(p.length<i.length){var q=[p,i];i=q[0],p=q[1];var o=[g,d];d=o[0],g=o[1]}for(var r=p.length-i.length,u=0;i[u]===p[u]&&u<i.length;)++u;for(var y=i.length;y>u&&i[y-1]===p[y+r-1];)--y;for(var z=u;z<y;++z)if(m[z]&&p[z]!==i[z]){var B=f.concat([z]);d.push({op:"replace",path:B,value:b(p[z])}),g.push({op:"replace",path:B,value:b(i[z])})}for(var v=d.length,C=y+r-1;C>=y;--C){var D=f.concat([C]);d[v+C-y]={op:c,path:D,value:b(p[C])},g.push({op:"remove",path:D})}}(e,j,l,k);case 3:return function(h,f,d,g){var i=h.t,m=h.o,p=0;i.forEach(function(q){if(!m.has(q)){var o=f.concat([p]);d.push({op:"remove",path:o,value:q}),g.unshift({op:c,path:o,value:q})}p++}),p=0,m.forEach(function(q){if(!i.has(q)){var o=f.concat([p]);d.push({op:c,path:o,value:q}),g.unshift({op:"remove",path:o,value:q})}p++})}(e,j,l,k)}},M:function(e,j,l,k){l.push({op:"replace",path:[],value:j}),k.push({op:"replace",path:[],value:e.t})}})}function ob(){function a(h,f){function d(){this.constructor=h}j(h,f),h.prototype=(d.prototype=f.prototype,new d())}function b(h){h.o||(h.D=new Map(),h.o=new Map(h.t))}function c(h){h.o||(h.o=new Set(),h.t.forEach(function(f){if(J(f)){var d=T(h.A.h,f,h);h.p.set(f,d),h.o.add(d)}else h.o.add(f)}))}function e(h){h.O&&E(3,JSON.stringify(F(h)))}var j=function(h,f){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var i in g)g.hasOwnProperty(i)&&(d[i]=g[i])})(h,f)},l=function(){function h(d,g){return this[w]={i:2,l:g,A:g?g.A:ba(),P:!1,I:!1,o:void 0,D:void 0,t:d,k:this,C:!1,O:!1},this}a(h,Map);var f=h.prototype;return Object.defineProperty(f,"size",{get:function(){return F(this[w]).size}}),f.has=function(d){return F(this[w]).has(d)},f.set=function(d,g){var i=this[w];return e(i),F(i).get(d)!==g&&(b(i),U(i.A.h,i),i.D.set(d,!0),i.o.set(d,g),i.D.set(d,!0)),this},f.delete=function(d){if(!this.has(d))return!1;var g=this[w];return e(g),b(g),U(g.A.h,g),g.D.set(d,!1),g.o.delete(d),!0},f.clear=function(){var d=this[w];return e(d),b(d),U(d.A.h,d),d.D=new Map(),d.o.clear()},f.forEach=function(d,g){var i=this;F(this[w]).forEach(function(m,p){d.call(g,i.get(p),p,i)})},f.get=function(d){var g=this[w];e(g);var i=F(g).get(d);if(g.I||!J(i))return i;if(i!==g.t.get(d))return i;var m=T(g.A.h,i,g);return b(g),g.o.set(d,m),m},f.keys=function(){return F(this[w]).keys()},f.values=function(){var d,g=this,i=this.keys();return(d={})[qa]=function(){return g.values()},d.next=function(){var m=i.next();return m.done?m:{done:!1,value:g.get(m.value)}},d},f.entries=function(){var d,g=this,i=this.keys();return(d={})[qa]=function(){return g.entries()},d.next=function(){var m=i.next();if(m.done)return m;var p=g.get(m.value);return{done:!1,value:[m.value,p]}},d},f[qa]=function(){return this.entries()},h}(),k=function(){function h(d,g){return this[w]={i:3,l:g,A:g?g.A:ba(),P:!1,I:!1,o:void 0,t:d,k:this,p:new Map(),O:!1,C:!1},this}a(h,Set);var f=h.prototype;return Object.defineProperty(f,"size",{get:function(){return F(this[w]).size}}),f.has=function(d){var g=this[w];return e(g),g.o?!!g.o.has(d)||!(!g.p.has(d)||!g.o.has(g.p.get(d))):g.t.has(d)},f.add=function(d){var g=this[w];return e(g),this.has(d)||(c(g),U(g.A.h,g),g.o.add(d)),this},f.delete=function(d){if(!this.has(d))return!1;var g=this[w];return e(g),c(g),U(g.A.h,g),g.o.delete(d)||!!g.p.has(d)&&g.o.delete(g.p.get(d))},f.clear=function(){var d=this[w];return e(d),c(d),U(d.A.h,d),d.o.clear()},f.values=function(){var d=this[w];return e(d),c(d),d.o.values()},f.entries=function(){var d=this[w];return e(d),c(d),d.o.entries()},f.keys=function(){return this.values()},f[qa]=function(){return this.values()},f.forEach=function(d,g){for(var i=this.values(),m=i.next();!m.done;)d.call(g,m.value,m.value,this),m=i.next()},h}();Fa("MapSet",{T:function(h,f){return new l(h,f)},F:function(h,f){return new k(h,f)}})}function vc(){mb(),ob(),nb()}function wc(a){return a}function xc(a){return a}var pb,V,Ka="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),yc="undefined"!=typeof Map,zc="undefined"!=typeof Set,qb="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,La=Ka?Symbol("immer-nothing"):((pb={})["immer-nothing"]=!0,pb),Ma=Ka?Symbol("immer-draftable"):"__$immer_draftable",w=Ka?Symbol("immer-state"):"__$immer_state",qa="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Ac={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(a){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+a},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(a){return"Cannot apply patch, path doesn't resolve: "+a},16:'Sets cannot have "replace" patches.',17:function(a){return"Unsupported patch operation: "+a},18:function(a){return"The plugin for '"+a+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+a+"()` when initializing your application."},19:function(a){return"plugin not loaded: "+a},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available"},Bc="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames,rb={},ra={get:function(a,b){if(b===w)return a;var c=a.p;if(!a.P&&S(c,b))return c[b];var e=F(a)[b];if(a.I||!J(e))return e;if(a.P){if(e!==Ja(a.t,b))return e;c=a.o}return c[b]=T(a.A.h,e,a)},has:function(a,b){return b in F(a)},ownKeys:function(a){return Reflect.ownKeys(F(a))},set:function(a,b,c){if(!a.P){var e=Ja(a.t,b);if(c?$(e,c)||c===a.p[b]:$(e,c)&&b in a.t)return!0;lb(a),pa(a)}return a.D[b]=!0,a.o[b]=c,!0},deleteProperty:function(a,b){return void 0!==Ja(a.t,b)||b in a.t?(a.D[b]=!1,lb(a),pa(a)):a.D[b]&&delete a.D[b],a.o&&delete a.o[b],!0},getOwnPropertyDescriptor:function(a,b){var c=F(a),e=Reflect.getOwnPropertyDescriptor(c,b);return e&&(e.writable=!0,e.configurable=1!==a.i||"length"!==b),e},defineProperty:function(){E(11)},getPrototypeOf:function(a){return Object.getPrototypeOf(a.t)},setPrototypeOf:function(){E(12)}},sa={};K(ra,function(a,b){sa[a]=function(){return arguments[0]=arguments[0][0],b.apply(this,arguments)}}),sa.deleteProperty=function(a,b){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(b))&&E(13),ra.deleteProperty.call(this,a[0],b)},sa.set=function(a,b,c){return"production"!==process.env.NODE_ENV&&"length"!==b&&isNaN(parseInt(b))&&E(14),ra.set.call(this,a[0],b,c,a[0])};var sb=function(){function a(c){this.g=qb,this.N="production"!==process.env.NODE_ENV,"boolean"==typeof(null==c?void 0:c.useProxies)&&this.setUseProxies(c.useProxies),"boolean"==typeof(null==c?void 0:c.autoFreeze)&&this.setAutoFreeze(c.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var b=a.prototype;return b.produce=function(c,e,j){if("function"==typeof c&&"function"!=typeof e){var l=e;e=c;var k=this;return function(i){var m=this;void 0===i&&(i=l);for(var p=arguments.length,q=Array(p>1?p-1:0),o=1;o<p;o++)q[o-1]=arguments[o];return k.produce(i,function(r){var u;return(u=e).call.apply(u,[m,r].concat(q))})}}var h;if("function"!=typeof e&&E(6),void 0!==j&&"function"!=typeof j&&E(7),J(c)){var f=jb(this),d=T(this,c,void 0),g=!0;try{h=e(d),g=!1}finally{g?ma(f):Ha(f)}return"undefined"!=typeof Promise&&h instanceof Promise?h.then(function(i){return Ga(f,j),Ia(i,f)},function(i){throw ma(f),i}):(Ga(f,j),Ia(h,f))}if((h=e(c))!==La)return void 0===h&&(h=c),this.N&&Ea(h,!0),h},b.produceWithPatches=function(c,e){var j,l,k=this;return"function"==typeof c?function(h){for(var f=arguments.length,d=Array(f>1?f-1:0),g=1;g<f;g++)d[g-1]=arguments[g];return k.produceWithPatches(h,function(i){return c.apply(void 0,[i].concat(d))})}:[this.produce(c,e,function(h,f){j=h,l=f}),j,l]},b.createDraft=function(c){J(c)||E(8);var e=jb(this),j=T(this,c,void 0);return j[w].C=!0,Ha(e),j},b.finishDraft=function(c,e){var j=c&&c[w];"production"!==process.env.NODE_ENV&&(j&&j.C||E(9),j.I&&E(10));var l=j.A;return Ga(l,e),Ia(void 0,l)},b.setAutoFreeze=function(c){this.N=c},b.setUseProxies=function(c){qb||E(20),this.g=c},b.applyPatches=function(c,e){var j;for(j=e.length-1;j>=0;j--){var l=e[j];if(0===l.path.length&&"replace"===l.op){c=l.value;break}}var k=M("Patches").U;return N(c)?k(c,e):this.produce(c,function(h){return k(h,e.slice(j+1))})},a}(),G=new sb(),Na=G.produce,Cc=G.produceWithPatches.bind(G),Dc=G.setAutoFreeze.bind(G),Ec=G.setUseProxies.bind(G),Fc=G.applyPatches.bind(G),Gc=G.createDraft.bind(G),Hc=G.finishDraft.bind(G);const me=Na;let O=[];O.push(X);function A(a){const b=Na(O[O.length-1],a);return Eb(b),O.push(b),!0}function bd(){return O[O.length-1]}function tg(){return O}function Oa(a,b,c,e){const j={1:"dice-front-view",2:"dice-right-view",3:"dice-back-view",4:"dice-left-view",5:"dice-top-view",6:"dice-bottom-view"};function l(){return`animation-iteration-count: ${b};`}function k(){return e==="ambassadorAldren"?s`<div class="dice relayout-aldren-die ${j[a]}" style=${l()}>
                <div class="diceFace front"></div>
                <div class="diceFace right"></div>
                <div class="diceFace back"></div>
                <div class="diceFace left"></div>
                <div class="diceFace top"></div>
                <div class="diceFace bottom"></div>
            </div>`:e==="mrsRoboto"?s`<div class="dice relayout-roboto-die ${j[a]}" style=${l()}>
                <div class="diceFace front"></div>
                <div class="diceFace right"></div>
                <div class="diceFace back"></div>
                <div class="diceFace left"></div>
                <div class="diceFace top"></div>
                <div class="diceFace bottom"></div>
            </div>`:s`<div class="dice ${j[a]}" style=${l()}>
                <div class="diceFace front"></div>
                <div class="diceFace right"></div>
                <div class="diceFace back"></div>
                <div class="diceFace left"></div>
                <div class="diceFace top"></div>
                <div class="diceFace bottom"></div>
            </div>`}return s`
        <div class=${c?"view selected-die":"view"}>
            ${k()}
        </div>
    `}function _c(a,b){const{crew:c,gameUiData:e,player:j}=a,{phase:l,selectedDice:k,crewOnMission:h,currentCrewAbility:f,mojoAbility:d,lastAbilityUsed:g,lastDiceSelected:i,isSimpleGame:m}=e,p=c[b],q=p.animations,o=e.selectedDice.includes(b);function r(){if(l===1)A(v=>{v.gameUiData.crewOnMission[b]?delete v.gameUiData.crewOnMission[b]:v.gameUiData.crewOnMission[b]=p.isActive});else if(l===3)if(k.includes(b))A(v=>{v.gameUiData.selectedDice.splice(v.gameUiData.selectedDice.indexOf(b),1)});else if(f==="ambassadorAldren"&&h.ambassadorAldren==="active"&&k.length<2)A(v=>{v.gameUiData.selectedDice.push(b)});else if(f==="ltMojo"&&h.ltMojo==="active")if(d)A(v=>{v.gameUiData.selectedDice=[b]});else{if(b==="ltMojo"){A(v=>{v.gameUiData.modalOpen=!0,v.gameUiData.modalId="mojoRecursion",v.gameUiData.modalButtonText="Continue"});return}A(v=>{v.gameUiData.mojoAbility=b})}else A(v=>{v.gameUiData.selectedDice=[b]})}function u(){if(h[b])return s`<div class="card-selected">SELECTED</div>`}function y(){let v=p.img;return b==="ltMojo"&&d&&(v=c[d].img),s`<img class="layer-ability-box" src="./images/crew/layer/ability-${v}.png" alt="">`}function z(){return s`${Object.keys(p.triggers).map((C,D)=>p.triggers[C]===!1?s`
                        <div class="trigger known-trigger" data-i=${D}>${C} - ${v(C)}</div>
                    `:b===j.crew?s`
                        <div class="trigger partially-known-trigger" data-i=${D}>${v(C)}</div>
                    `:s`
                        <div class="trigger unknown-trigger" data-i=${D}><img src="./images/icons/sight-disabled-black.png" alt="Hidden madness trigger icon"></div>
                    `)}`;function v(C){for(const D in c)if(c[D].traits[C])return c[D].name}}function B(){return p.rolling&&l===2?s`${Oa(p.die,q,o,"normal")}`:p.rolling&&l===3&&(g==="ambassadorAldren"||g==="mrsRoboto")&&i.includes(b)?s`${Oa(p.die,q,o,b)}`:p.rolling&&l===3?s`${Oa(p.die,0,o,"normal")}`:s`<span style="display:none"></span>`}return s`
        ${B()}
        <div class="crew-wrapper ${l>0?"re-pointer":"no-pointer"}" onclick=${r}>
            <div class=${p.isActive==="active"?"crew-wrapper-inner":"crew-wrapper-inner crew-inactive"}>
                <div class="crew-front">
                    ${u()}
                    <img src="./images/crew/bkgrd/${p.img}.jpg" alt="">
                    ${m?" ":y()}
                    <div class="crew-info">
                        <div class="crew-name re-text-center">${p.name}</div>
                        <ul class="traits-list">
                            ${Object.keys(p.traits).map((v,C)=>s`
                                <li data-i=${C}> ${v} </li>`)}
                        </ul>
                    </div>
                    <div class=${m?"re-display-none":"crew-ability"}>
                        <div class="re-text-center re-text-bold">Ability</div>
                        <div class="ability-text" style=${b==="ltMojo"&&!d?"margin-left: 0px":"margin-left: 50px"}>
                            ${()=>b==="ltMojo"&&d?c[d].abilityText:p.abilityText}
                        </div>
                    </div>
                </div>
                <div class="crew-back">
                    ${u()}
                    <img src="./images/crew/bkgrd/${p.img}.jpg" alt="">
                    <div class="crew-info">
                        <div class="crew-name re-text-center">${p.name}</div>
                        <ul class="traits-list">
                            ${Object.keys(p.traits).map((v,C)=>s`
                                <li data-i=${C}> ${v} </li>`)}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div style="text-align: left">
            ${z()}
        </div>
    `}function Pa(a,b,c){const{missions:e,gameUiData:j}=a,{phase:l,selectedMissionId:k,isSimpleGame:h}=j,f=e[c][b],d=Object.keys(e[c]);function g(){i(),l===0&&i()&&A(o=>{o.gameUiData.selectedMissionLvl=c,o.gameUiData.selectedMissionId=b})}function i(){for(let o=d.length-1;o>-1;o--)if(e[c][d[o]].succeeded===!1)return d[o]===b?!0:!1}function m(){return f.imgLayerTarget?s`<img class="mission-target-img" src="./images/missions/layer/${f.imgLayerTarget}.png" alt="">`:s`<div class="mission-target-num">${f.targetNumber}<div>`}function p(){if(b===k)return s`<div class="card-selected">SELECTED</div>`}function q(){return h&&i()?s`
                <div class="mission-simple-game-info">
                    <div class="re-text-center">Location: ${f.name}</div>
                    <div class="re-text-center">Mission: ${f.story}</div>
                    <div class="seperator"></div>
                    <div class="re-blue re-text-center">Send ${f.simpleMissionTarget} crew members to complete this mission</div>
                </div>
            `:void 0}return s`
        <div class="mission-wrapper ${l===0?"re-pointer":"no-pointer"}" onclick=${g}>
            <div class=${f.failed?"mission-wrapper-inner mission-failed":"mission-wrapper-inner"}>
                <div class="mission-front">
                    ${p()}
                    <div class=${h?"re-display-none":"mission-target-rule-text"}>Mission: ${f.targetRuleText}</div>
                    <img class=${i()?"mission-bkgrd":""} src="./images/missions/bkgrd/${f.imgBkgrd}.jpg" alt="">
                    <img class=${h?"re-display-none":"layer-target-box"} src="./images/missions/layer/${f.imgLayerFrame}.png" alt="">
                    ${h?" ":m()}
                    ${q()}
                </div>
                <div class="mission-back">
                    ${p()}
                    <div class="mission-target-rule-text">Salvage: Roll two of a kind</div>
                    <img class=${i()?"mission-bkgrd":""} src="./images/missions/bkgrd/${f.imgBkgrd}.jpg" alt="">
                    <img class="layer-target-box" src="./images/missions/layer/rule-roll-exactly.png" alt="">
                    <img class="mission-target-img" src="./images/missions/layer/die-roll-two-same.png" alt="">
                </div>
            </div>
        </div>
    `}var wa;(function(a){function b(f){return h(1,6)}a.rerollOne=b;function c(f){return f+1}a.addOne=c;function e(f){return f+2}a.addTwo=e;function j(f){return f-1}a.subtractOne=j;function l(f){return f-2}a.subtractTwo=l;function k(f){const d={1:6,2:5,3:4,4:3,5:2,6:1};return d[f]}a.flip=k;function h(f,d){return Math.floor(Math.random()*(d-f+1)+f)}})(wa||(wa={}));var xa;(function(a){function b(i){return i.reduce((m,p)=>m+p)>7}a.lvlOneOver=b;function c(i){return i.reduce((m,p)=>m+p)>13}a.lvlTwoOver=c;function e(i){return i.reduce((m,p)=>m+p)>18}a.lvlThreeOver=e;function j(i){return i.reduce((m,p)=>m+p)<12}a.lvlOneUnder=j;function l(i){return i.reduce((m,p)=>m+p)<8}a.lvlTwoUnder=l;function k(i){return i.reduce((m,p)=>m+p)<6}a.lvlThreeUnder=k;function h(i){return i.includes(6)}a.lvlOneNum=h;function f(i){return i.includes(4)&&i.includes(5)}a.lvlTwoNum=f;function d(i){return i.includes(1)&&i.includes(2)&&i.includes(3)}a.lvlThreeNum=d;function g(i,m){let p={};for(let q=0;q<i.length;q++){p[i[q]]=(p[i[q]]||0)+1;if(p[i[q]]>=m)return!0}return!1}a.recoverFail=g})(xa||(xa={}));function $c(a){const{crew:b,gameUiData:c}=a,{crewOnMission:e,currentCrewAbility:j}=c;let l=[];for(const h in e)e[h]==="active"&&l.push(h);function k(h){if(h){const f=h.target.getAttribute("data-id");A(d=>{d.gameUiData.currentCrewAbility=f})}}return s`
        <select>
            ${l.map(h=>h!==j&&e[h]==="active"?s`<option data-id=${h} onclick=${f=>{k(f)}}>${b[h].name}</option>`:h===j?s`<option data-id=${j} selected onclick=${f=>{k(f)}}>${b[j].name}</option>`:null)}
        </select>
    `}function cd(a){const{gameUiData:b,crew:c,missions:e,player:j}=a,{phase:l,crewOnMission:k,currentCrewAbility:h,selectedMissionLvl:f,selectedMissionId:d,mojoAbility:g,selectedDice:i,turnOrder:m,activeTurn:p,isSimpleGame:q}=b,o=Object.keys(k);function r(){if(l===0)return s`
            <div class="phases-ui">
                <button disabled=${d?!1:!0} onclick=${u} ><span class="desktop-inline">Submit Mission</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `;{if(l===1&&q===!1)return s`
            <div class="phases-ui">
                <button disabled=${o.length<3?!0:!1} onclick=${y}><span class="desktop-inline">Submit Crew</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `;{if(l===1&&q)return s`
            <div class="phases-ui">
                <button disabled=${o.length<e[f][d].simpleMissionTarget?!0:!1} onclick=${y}><span class="desktop-inline">Submit Crew</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `;if(l===3)return s`
            <div class="phases-ui">
                <button onclick=${C}>Skip</button>
                <button onclick=${B}><span class="desktop-inline">Apply</span><span class="mobile-inline">&#9654</span></button>
            </div>
            `}}}function u(){f&&d?A(n=>{n.gameUiData.phase++,n.gameUiData.phaseChange=!0}):A(n=>{n.gameUiData.modalOpen=!0,n.gameUiData.modalId="minimumMission",n.gameUiData.modalButtonText="Continue"})}function y(){if(q){e[f][d].simpleMissionTarget<=o.length?D():A(n=>{n.gameUiData.modalOpen=!0,n.gameUiData.modalId="minimumCrew",n.gameUiData.modalButtonText="Continue"});return}if(o.length>2){A(t=>{t.gameUiData.phase++,t.gameUiData.phaseChange=!0;for(let x=0;x<o.length;x++)t.crew[o[x]].rolling=!0,t.crew[o[x]].die=Math.floor(Math.random()*(6-1))+1});let n=1;for(let t=0;t<o.length;t++)c[o[t]].animations>n&&(n=c[o[t]].animations);setTimeout(()=>{Fb()?D():z()?D():A(t=>{t.gameUiData.phase++,t.gameUiData.phaseChange=!0;for(const x in k)if(k[x]==="active"){t.gameUiData.currentCrewAbility=x;break}})},n*1600)}else A(n=>{n.gameUiData.modalOpen=!0,n.gameUiData.modalId="minimumCrew",n.gameUiData.modalButtonText="Continue"})}function z(){for(const n in k)if(k[n]==="active")return!1;return!0}function B(){h==="ltMojo"&&k.ltMojo==="active"&&!g&&A(n=>{n.gameUiData.modalOpen=!0,n.gameUiData.modalId="chooseAnotherCrew",n.gameUiData.modalButtonText="Continue"});if(h==="ambassadorAldren"&&k.ambassadorAldren==="active"){v()?(A(n=>{n.gameUiData.lastAbilityUsed=h,n.gameUiData.lastDiceSelected=i,n.gameUiData.crewOnMission[h]="inactive";for(let t=0;t<n.gameUiData.selectedDice.length;t++)n.crew[n.gameUiData.selectedDice[t]].die=Math.floor(Math.random()*(6-1+1)+1);for(const t in k)if(h!==t&&k[t]==="active"){n.gameUiData.currentCrewAbility=t;break}}),setTimeout(()=>{D()},1000)):A(n=>{n.gameUiData.lastAbilityUsed=h,n.gameUiData.lastDiceSelected=i,n.gameUiData.crewOnMission[h]="inactive";for(let t=0;t<n.gameUiData.selectedDice.length;t++)n.crew[n.gameUiData.selectedDice[t]].die=Math.floor(Math.random()*(6-1+1)+1);for(const t in k)if(h!==t&&k[t]==="active"){n.gameUiData.currentCrewAbility=t;break}n.gameUiData.selectedDice=[]});return}if(i.length>0){let n=1;h==="ltMojo"?n=wa[c[g].ability](c[i[0]].die):n=wa[c[h].ability](c[i[0]].die),n>6&&(n=6),n<1&&(n=1),v()?(A(t=>{t.gameUiData.lastAbilityUsed=h,t.gameUiData.lastDiceSelected=i,t.crew[t.gameUiData.selectedDice[0]].die=n}),setTimeout(()=>{D()},1000)):A(t=>{t.gameUiData.lastAbilityUsed=h,t.gameUiData.lastDiceSelected=i,t.crew[t.gameUiData.selectedDice[0]].die=n,t.gameUiData.crewOnMission[h]="inactive";for(const x in k)if(h!==x&&k[x]==="active"){t.gameUiData.currentCrewAbility=x;break}t.gameUiData.selectedDice=[]})}else A(n=>{n.gameUiData.modalOpen=!0,n.gameUiData.modalId="chooseADie",n.gameUiData.modalButtonText="Continue"})}function v(){for(const n in k)if(k[n]==="active"&&h!==n)return!1;return!0}function C(){v()?D():A(n=>{n.gameUiData.crewOnMission[h]="inactive";for(const t in k)if(h!==t&&k[t]==="active"){n.gameUiData.currentCrewAbility=t;break}n.gameUiData.selectedDice=[]})}function D(){Fb()||q?A(n=>{b.phase=4,n.gameUiData.modalOpen=!0,n.gameUiData.modalId="suceededMission",n.gameUiData.modalButtonText="Start Next Round",n.missions[f][d].failed===!0?n.missions[f][d].failed=!1:n.missions[f][d].succeeded=!0,n.missions[f][d].isSelected=!1,n.gameUiData.selectedDice=[],n.gameUiData.crewOnMission={},n.gameUiData.currentCrewAbility=void 0,n.gameUiData.lastAbilityUsed=void 0,n.gameUiData.lastDiceSelected=void 0,n.gameUiData.selectedMissionLvl=void 0,n.gameUiData.selectedMissionId=void 0,n.gameUiData.mojoAbility=void 0;let t=!1;for(let x=0;x<o.length;x++){for(const H in n.crew[o[x]].triggers){if(t){t=!1;break}for(let I=0;I<o.length;I++)if(o[x]!==o[I]){if(n.crew[o[I]].traits[H]&&n.crew[o[x]].triggers[H]!==!1){n.crew[o[x]].triggers[H]=!1,n.gameUiData.gameHistory.push(`In the ${e[f][d].name} section of the ship ${c[o[I]].name} drove ${c[o[x]].name} more mad with their ${H} trait.`),t=!0;break}}}n.crew[o[x]].die=1,n.crew[o[x]].rolling=!1,n.crew[o[x]].isSelected=!1,n.crew[o[x]].isActive="active"}}):e[f][d].failed?A(n=>{n.gameUiData.modalOpen=!0,n.gameUiData.modalId="missionLose",n.gameUiData.modalButtonText=void 0}):A(n=>{b.phase=4,n.gameUiData.modalOpen=!0,n.gameUiData.modalId="failedMission",n.gameUiData.modalButtonText="Start Next Round",n.missions[f][d].failed=!0,n.missions[f][d].isSelected=!1,n.gameUiData.selectedDice=[],n.gameUiData.crewOnMission={},n.gameUiData.currentCrewAbility=void 0,n.gameUiData.lastAbilityUsed=void 0,n.gameUiData.lastDiceSelected=void 0,n.gameUiData.selectedMissionLvl=void 0,n.gameUiData.selectedMissionId=void 0,n.gameUiData.mojoAbility=void 0;let t=!1;for(let x=0;x<o.length;x++){for(const H in n.crew[o[x]].triggers){if(t){t=!1;break}for(let I=0;I<o.length;I++)if(o[x]!==o[I]){if(n.crew[o[I]].traits[H]&&n.crew[o[x]].triggers[H]!==!1){n.crew[o[x]].triggers[H]=!1,n.gameUiData.gameHistory.push(`In the ${e[f][d].name} section of the ship ${c[o[I]].name} drove ${c[o[x]].name} more mad with their ${H} trait.`),t=!0;break}}}n.crew[o[x]].die=1,n.crew[o[x]].rolling=!1,n.crew[o[x]].isSelected=!1,n.crew[o[x]].isActive="inactive"}}),setTimeout(()=>{A(n=>{n.gameUiData.phase=0,n.gameUiData.phaseChange=!0})},1000)}function Fb(){let n=[],t=!1;const x=bd();for(const H in x.gameUiData.crewOnMission)n.push(x.crew[H].die);if(e[f][d].failed){if(xa.recoverFail(n,2))return t=!0,t}else if(xa[e[f][d].successCheck](n))return t=!0,t;return t}const id=["","","Rolling...","apply ability to a crew's die","Clean up phase..."];function jd(){A(n=>{n.gameUiData.modalOpen=!0,n.gameUiData.modalId="rules",n.gameUiData.modalButtonText="Return to Game"})}function kd(){let n="Not currently your turn. Relax. Sit a spell.";return m[p]===j.name&&(n=id[l]),h==="ltMojo"&&k.ltMojo==="active"&&(g?n="Choose a dice to use Mojo's copied ability on":n="Choose a crew for Mojo to copy"),l===3?s`
            <div class="phases-direction-text">
                ${$c(a)} <span class="desktop-inline">apply ability to a crew's die</span>
            </div>`:l===0?s`
            <div class="phases-direction-text">
                Choose a <span class=\"re-green\">mission</span> to attempt
            </div>`:l===1?s`<div class="phases-direction-text">
                Choose <span class=\"re-blue\">crew</span> for the mission
            </div>`:s`${n}`}return s`
        <div class="phases-tooltip-wrapper">
            <div class="phases-help-button" onclick=${jd}>${dd()}</div>
        </div>
        ${kd()}
        ${r()}
    `}function dd(){return zb`<svg style="height: 20px; width: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 0h512v512H0z" fill="#ffffff" fill-opacity="0"></path><g class="" style="touch-action: none;" transform="translate(0,0)"><path d="M256 16C123.45 16 16 123.45 16 256s107.45 240 240 240 240-107.45 240-240S388.55 16 256 16zm0 60c99.41 0 180 80.59 180 180s-80.59 180-180 180S76 355.41 76 256 156.59 76 256 76zm0 30c-66.274 0-120 40.294-120 90 0 30 60 30 60 0 0-16.57 26.862-30 60-30 33.138 0 60 13.43 60 30s-30 15-60 30c-1.875.938-3.478 2.126-4.688 3.28C226.53 244.986 226 271.926 226 286v15c0 16.62 13.38 30 30 30 16.62 0 30-13.38 30-30v-15c0-45 90-40.294 90-90s-53.726-90-120-90zm0 240a30 30 0 0 0-30 30 30 30 0 0 0 30 30 30 30 0 0 0 30-30 30 30 0 0 0-30-30z" fill="#ffffff" fill-opacity="1"></path></g></svg>`}var Qa;(function(a){function b(){return s`
        <h2 class="modal-h2-spacing">You won Space Madness the game!</h2>
        <p class="modal-paragraph"><img src="./images/modal-content/game-cover.jpg" alt="Space Madness title image">After your ship returns to space port, you receive a communique from command. The message simply says "Do better next next time". You might expect more after so much hard work but space management is a thankless profession. If you want riches and glory try space trucking or possibly a side hustle as an alien host. As you look out upon the stars you can't help but worry about what could have been. Moments later your Space Nacho's arrive!</p>
        `}a.win=b;function c(){return s`
            <h2 class="modal-h2-spacing">Sorry, you lost due to SPACE MADNESS!</h2>
            <p class="modal-paragraph"><img class="modal-crew-image modal-img-right" src="./images/modal-content/aldren-image.jpg" alt="Mrs. Roboto going mad and attacking Ambassador Aldren">After your ship (The Orpheus) didnâ€™t arrive at space port, a search was launched for the missing vessel. After three weeks combing its last known position in a poorly mapped sector, it was discovered adrift. The bodies of seven crew members were found. After a brief investigation it was concluded SPACE MADNESS had taken a crew member!</p>
            `}a.madnessLose=c;function e(){return s`
        <h2 class="modal-h2-spacing">Sorry, you lost due to mission failure!</h2>
        <p class="modal-paragraph"><img src="./images/modal-content/ship-explode.jpg" alt="Space ship exploding image">The shipâ€™s hull moans and the power flickers repeatedly. Your team has failed. Was it Space Vampires? Maybe there were too many Christmas lights in the medical bay? Sadly, you'll never know for sure. The one thing you do know is your crew really bungled things up. Bungled them all the way to bungle town, population a whole lot of bungles. Bungle. The ship explodes.</p>
        `}a.missionLose=e;function j(){return s`
            <h2 class="modal-h2-spacing">You failed the mission! Tensions rise!</h2>
            <p class="modal-paragraph"><img class="modal-crew-image modal-img-right" src="./images/modal-content/hammer-image.jpg" alt="Space Madness title image">The crew you chose to complete this mission bursts through the doorway. One has a small head wound and another looks to have had their eyebrows singed off. You don't even have to ask what happened. The frazzled looks tell you everything you need to know. You'll have to be careful after this. If your crew can't recover this failed mission with a success, it could spell doom for the ship and everyone aboard.</p>
        `}a.failedMission=j;function l(){return s`
            <h2 class="modal-h2-spacing">Success! Your crew was up to the challenge!</h2>
            <p class="modal-paragraph"><img class="modal-crew-image modal-img-right" src="./images/modal-content/moxy-image.jpg" alt="Pilot moxy saluting">The crew you chose to complete this mission walks through the doorway in a manner that can only be described as "cocky.â€ Honestly you don't care if they take some pride in their work as long as they get the job done and don't drive each other insane while doing it. That said, you can't help but notice the tension in the air. Was that a nervous tick from one of the crew? Your brow furrows as you contemplate the terrible implications of space madness aboard your ship.</p>
            `}a.suceededMission=l;function k(p){function q(){A(r=>{r.gameUiData.modalOpen=!0,r.gameUiData.modalId="rules",r.gameUiData.modalButtonText="Start Game"})}function o(){A(r=>{r.gameUiData.isSimpleGame=!0,r.gameUiData.modalOpen=!0,r.gameUiData.modalId="rules",r.gameUiData.modalButtonText="Start Game"})}return s`
            <h2 class="modal-h2-spacing">Choose Game Type:</h2>
            <h3>Simplified</h3>
            <p class="modal-paragraph">A simple version of the game. Good for beginners.</p>
            <button onclick=${o}>Simple Version</button>
            <div class="seperator"></div>
            <h3>Complex</h3>
            <p class="modal-paragraph">Jump right in to the more complex version of Space Madness</p>
            <button onClick=${q}>Complex Version</button>
            `}a.chooseGameType=k;function h(p){return p?s`
                <img src="./images/modal-content/title.jpg" alt="Space Madness title image">
                <h2 class="modal-h2-spacing">Introduction:</h2>
                <p class="modal-paragraph">You are the captain of the Orpheus, a standard class exploration ship mapping unknown sectors. In a bizarre turn of events your ship has been plagued by problems that defy imagination. It's up to you and your (mostly) faithful crew to go on a series of missions to clear the ship of these challenging situations.</p>
                <h2 class="modal-h2-spacing">Objective:</h2>
                <p class="modal-paragraph">Have your crew complete all the missions without the ship exploding or the crew driving each other space mad.</p>
                <h2 class="modal-h2-spacing">How to Play:</h2>
                <p class="modal-paragraph">Choose a mission card for your crew to attempt. Then choose the required number of crew members to send on that mission. The required number of crew changes as the missions get harder.</p>
                <p class="modal-paragraph modal-bkgrd-lght-grey">The more crew members that are sent on missions together, the more theyâ€™ll begin to annoy each other...which can lead one of them to go space mad. After each mission the crew members you sent will reveal what annoyed them about the crewmates they just worked with. Only one annoying trait can be revealed per crew member each round. When a crew member has been annoyed three times by their crewmates, they go space mad, murder everyone on the ship, and you lose the game, so plan the combination of crew to send on missions carefully.</p>
                <p class="modal-paragraph">Some key information is revealed for one crew member, chosen at random, at the start of each game.</p>
                <h2 class="modal-h2-spacing" style="display: block;text-align: center;">Visual Glossary:</h2>
                <div class="modal-glossary-section">
                <h3>Header Bar:</h3> <p class="modal-paragraph">This is the area at the top of teh page that will instruct you on what to do each phase of the game. There will usually be a button on the right, which will be disabled until you have completed the requested task. If you are unsure what do do you should look to thos bar. The question mark icon also show you more detailed instructions and links to these rules.
                <img style="width:500px" src="./images/modal-content/glossary/ui-bar.jpg" alt="Space Madness title image"></p>
                </div>
                <div class="seperator"></div>
                <div class="modal-glossary-section">
                <img class="modal-img-right" style="width:300px;" src="./images/modal-content/glossary/mission-cards-simple.jpg" alt="Space Madness title image">
                <h3>Mission card:</h3><p class="modal-paragraph"> These cards have a requirment that must be met. When you have successfully met the requirments of all 9 mission cards you win the game.</p>
                </div>
                <div class="seperator"></div>
                <div class="modal-glossary-section">
                <img class="modal-img-left" style="width:300px;" src="./images/modal-content/glossary/crew-card-simple.jpg" alt="Space Madness title image">
                <h3>Crew cards:</h3><p class="modal-paragraph"> These cards represent the crew you will send to complete missions. They include their annoying traits and a special ability you can apply to a die after it has been rolled. Crew that have failed a mission will not have an ability until they have succeeded at another mission.</p>
                </div>
                <div class="seperator"></div>
                <div class="modal-glossary-section">
                <img class="modal-img-right" style="width:353px;" src="./images/modal-content/glossary/triggers.jpg" alt="Space Madness title image">
                <h3>Crew triggers:</h3><p class="modal-paragraph"> Each game the crew are randomnly given three triggers that are traits other crew members have. If you send crew on a mission and one of their triggers overlaps with anothers crew trait, it will drive that crew space mad. For example the image below shows the triggers of a crew member that worked with Mrs. Robot. Mrs. Roboto is extremely negative and that was a trigger of this crew member. For this reason the negative trigger was revealed. When all three of this crew triggers are revealed they will go space mad, murder the crew, and you will lose the game. Only one trigger is revealed per crew member each round.</p>
                </div>
                <div class="seperator"></div>
                <div class="modal-glossary-section">
                <img class="modal-img-right" style="width:357px;" src="./images/modal-content/glossary/players-crew-triggers.jpg" alt="Space Madness title image">
                <h3>Known crew triggers:</h3><p class="modal-paragraph"> Each game you will randomly get some information about one crew members triggers. In game this is represented as a crew member you have gotten to know well and are intimetly aware of their triggers.</p>
                </div>
                <div class="seperator"></div>
                <div class="modal-glossary-section">
                <img class="modal-img-left" style="width:144px;" src="./images/modal-content/glossary/traits.jpg" alt="Space Madness title image">
                <h3>Crew traits:</h3><p class="modal-paragraph"> These are annoying/frustrating traits that crew members exibit. They will drive other crew space mad who have them as triggers.</p>
                </div>
            `:s`
            <img src="./images/modal-content/title.jpg" alt="Space Madness title image">
            <h2 class="modal-h2-spacing">Introduction:</h2>
            <p class="modal-paragraph">You are the captain of the Orpheus, a standard class exploration ship mapping unknown sectors. In a bizarre turn of events your ship has been plagued by problems that defy imagination. It's up to you and your (mostly) faithful crew to go on a series of missions to clear the ship of these challenging situations.</p>
            <h2 class="modal-h2-spacing">Objective:</h2>
            <p class="modal-paragraph">Have your crew complete all the missions without the ship exploding or the crew driving each other space mad.</p>
            <h2 class="modal-h2-spacing">How to Play:</h2>
            <p class="modal-paragraph">Choose a mission card for your crew to attempt. Then choose 3-8 crew members to send on that mission. Each crew member brings a die to roll and a special ability that can help them succeed with the mission.</p>
            <p class="modal-paragraph modal-bkgrd-lght-grey">But the more crew members that are sent on missions together, the more theyâ€™ll begin to annoy each other...which can lead one of them to go space mad. After each mission the crew members you sent will reveal what annoyed them about the crewmates they just worked with. Only one annoying trait can be revealed per crew member each round. When a crew member has been annoyed three times by their crewmates, they go space mad, murder everyone on the ship, and you lose the game, so plan the combination of crew to send on missions carefully.</p>
            <p class="modal-paragraph">Some key information is revealed for one crew member, chosen at random, at the start of each game.</p>
            <p class="modal-paragraph modal-bkgrd-lght-grey">If the crew you sent fails a mission, the mission card turns face down and any crew on that mission lose their special abilities. You can try the mission a second time, and if you succeed the mission card flips back over and the crewâ€™s special abilities are returned. But if you fail a second time, the ship explodes and you lose the game.</p>
            <h2 class="modal-h2-spacing" style="display: block;text-align: center;">Visual Glossary:</h2>
            <div class="modal-glossary-section">
            <h3>Header Bar:</h3> <p class="modal-paragraph">This is the area at the top of teh page that will instruct you on what to do each phase of the game. There will usually be a button on the right, which will be disabled until you have completed the requested task. If you are unsure what do do you should look to header bar at the top of the page. The question mark icon also show you more detailed instructions and links to these rules.
            <img style="width:500px" src="./images/modal-content/glossary/ui-bar.jpg" alt="Space Madness title image"></p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-right" style="width:300px;" src="./images/modal-content/glossary/mission-cards.jpg" alt="Space Madness title image">
            <h3>Mission card:</h3><p class="modal-paragraph"> These cards have a requirment that must be met. When you have successfully met the requirments of all 9 mission cards you win the game.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-left" style="width:300px;" src="./images/modal-content/glossary/crew-card.jpg" alt="Space Madness title image">
            <h3>Crew cards:</h3><p class="modal-paragraph"> These cards represent the crew you will send to complete missions. They include their annoying traits and a special ability you can apply to a die after it has been rolled. Crew that have failed a mission will not have an ability until they have succeeded at another mission.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-right" style="width:353px;" src="./images/modal-content/glossary/triggers.jpg" alt="Space Madness title image">
            <h3>Crew triggers:</h3><p class="modal-paragraph"> Each game the crew are randomnly given three triggers that are traits other crew members have. If you send crew on a mission and one of their triggers overlaps with anothers crew trait, it will drive that crew space mad. For example the image below shows the triggers of a crew member that worked with Mrs. Robot. Mrs. Roboto is extremely negative and that was a trigger of this crew member. For this reason the negative trigger was revealed. When all three of this crew triggers are revealed they will go space mad, murder the crew, and you will lose the game. Only one trigger is revealed per crew member each round.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-left" style="width:142px;" src="./images/modal-content/glossary/crew-ability.jpg" alt="Space Madness title image">
            <h3>Crew ability:</h3><p class="modal-paragraph"> Each crew member has an ability that they can apply to a die roll. Crew that have failed a mission will not have an ability until they have succeeded at another mission.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-right" style="width:357px;" src="./images/modal-content/glossary/players-crew-triggers.jpg" alt="Space Madness title image">
            <h3>Known crew triggers:</h3><p class="modal-paragraph"> Each game you will randomly get some information about one crew members triggers. In game this is represented as a crew member you have gotten to know well and are intimetly aware of their triggers.</p>
            </div>
            <div class="seperator"></div>
            <div class="modal-glossary-section">
            <img class="modal-img-left" style="width:144px;" src="./images/modal-content/glossary/traits.jpg" alt="Space Madness title image">
            <h3>Crew traits:</h3><p class="modal-paragraph"> These are annoying/frustrating traits that crew members exibit. They will drive other crew space mad who have them as triggers.</p>
            </div>

        `}a.rules=h;function f(){return s`
        <h2 class="modal-h2-spacing">You must choose a least 1 mission card</h2>
        `}a.minimumMission=f;function d(){return s`
        <h2 class="modal-h2-spacing">Not enough crew to complete mission. Choose more crew</h2>
        `}a.minimumCrew=d;function g(){return s`
        <h2 class="modal-h2-spacing">You must choose another crew member for Mojo's ability</h2>
        `}a.chooseAnotherCrew=g;function i(){return s`
        <h2 class="modal-h2-spacing">You must select a die to continue or click the "Skip" button</h2>
        `}a.chooseADie=i;function m(){return s`
        <h2 class="modal-h2-spacing">Mojo copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability, copies mojo's ability... monkey explodes. You monster.</h2>
        `}a.mojoRecursion=m})(Qa||(Qa={}));function ad(a){const{gameUiData:b,missions:c,crew:e}=a;let{modalOpen:j,modalId:l,modalButtonText:k,isSimpleGame:h}=b;d()&&b.modalId!=="madnessLose"&&(j=!0,l="madnessLose",k=void 0),f()&&b.modalId!=="win"&&(j=!0,l="win",k=void 0);function f(){let i=0;for(const m in c.lvlOne)c.lvlOne[m].succeeded||i++;for(const m in c.lvlTwo)c.lvlTwo[m].succeeded||i++;for(const m in c.lvlThree)c.lvlThree[m].succeeded||i++;return i>0?!1:!0}function d(){for(const m in e)if(i(e[m].triggers))return!0;return!1;function i(m){let p=0;for(const q in m)m[q]===!1&&p++;return p>2?!0:!1}}function g(){A(i=>{i.gameUiData.modalOpen=!1})}return s`
        <div class=${j?"modal-background":"re-display-none"}>
            <div class="modal-content">
                <div class=${l==="win"||l==="madnessLose"||l==="missionLose"?"re-display-none":"modal-close-icon"} onclick=${g}>X</div>
                ${Qa[l](h)}
                <div class=${k?"modal-buttons-wrapper":"re-display-none"}>
                    <button  onclick=${g}>${k}</button>
                </div>
            </div>
        </div>

    `}const ed=document.querySelector(".crew-cards-wrapper"),fd=document.querySelector(".mission-cards-wrapper"),gd=document.querySelector(".phases-wrapper"),hd=document.querySelector(".modal-wrapper"),ig=document.querySelector(".history-wrapper"),jg=document.querySelector(".audio-wrapper");function Eb(a){const{crew:b,missions:c,gameUiData:e}=a,{gameHistory:j,isSimpleGame:l}=e,{lvlOne:k,lvlTwo:h,lvlThree:f}=c;ea(fd,s`
        <div class=${d(k)?"re-display-none":"level-column"}>
            ${Object.keys(k).map((g,i)=>k[g].succeeded?s`<span></span>`:s`
                    <div class="mission-grid-cell" style="top:${i*8}px;" data-i=${i}>${Pa(a,g,"lvlOne")}</div>
                `)}
        </div>
        <div class="level-column">
            ${Object.keys(h).map((g,i)=>h[g].succeeded?s`<span></span>`:s`
                    <div class="mission-grid-cell" style="top:${i*8}px;" data-i=${i}>${Pa(a,g,"lvlTwo")}</div>
                `)}
        </div>
        <div class="level-column">
            ${Object.keys(f).map((g,i)=>f[g].succeeded?s`<span></span>`:s`
                    <div class="mission-grid-cell" style="top:${i*8}px;" data-i=${i}>${Pa(a,g,"lvlThree")}</div>
                `)}
        </div>
    `),ea(ed,s`${Object.keys(b).map((g,i)=>s`
       <div class="crew-grid-cell" data-i=${i}>${_c(a,g)}</div>
    `)}`),ea(gd,s`${cd(a)}`),ea(hd,s`${ad(a)}`);function d(g){for(const i in g)if(g[i].succeeded===!1)return!1;return!0}}function Yc(a){const b=[],c=["mrsRoboto","mrsRoboto","mrsRoboto","ambassadorAldren","ambassadorAldren","ambassadorAldren","lariLuckybeard","lariLuckybeard","lariLuckybeard","drJohnJohnson","drJohnJohnson","drJohnJohnson","subEnsignHammer","subEnsignHammer","subEnsignHammer","eliTheStowaway","eliTheStowaway","eliTheStowaway","pilotMoxyGoodwhistle","pilotMoxyGoodwhistle","pilotMoxyGoodwhistle","ltMojo","ltMojo","ltMojo"].sort(()=>Math.random()-.5),e=[];a.player.crew=c[0];for(const l in a.crew)for(const k in a.crew[l].traits)b.push(k);const j=b.sort(()=>Math.random()-.5);for(let l=0;l<c.length;l++)for(let k=0;k<j.length;k++)if(!e.includes(j[k])&&!a.crew[c[l]].traits[j[k]]){a.crew[c[l]].triggers[j[k]]=!0,e.push(j[k]);break}}Zc(),Yc(X),Eb(X);function Zc(){for(const a in X.missions)for(const b in X.missions[a])X.missions[a][b].story=Db[Math.floor(Math.random()*Db.length)]}},6(d){q$(d,{default:()=>h});var c=d||{};try{c.WeakMap=WeakMap}catch(o){c.WeakMap=function(i,e){"use strict";var f=e.defineProperty,j=e.hasOwnProperty,b=g.prototype;return b.delete=function(a){return this.has(a)&&delete a[this._]},b.get=function(a){return this.has(a)?a[this._]:void 0},b.has=function(a){return j.call(a,this._)},b.set=function(a,l){return f(a,this._,{configurable:!0,value:l}),this},g;function g(a){f(this,"_",{value:"_@ungap/weakmap"+i++}),a&&a.forEach(k,this)}function k(a){this.set(a[0],a[1])}}(Math.random(),Object)}const h=c.WeakMap},3(d){q$(d,{default:()=>h});var c=d||{};try{c.WeakMap=WeakMap}catch(o){c.WeakMap=function(i,e){"use strict";var f=e.defineProperty,j=e.hasOwnProperty,b=g.prototype;return b.delete=function(a){return this.has(a)&&delete a[this._]},b.get=function(a){return this.has(a)?a[this._]:void 0},b.has=function(a){return j.call(a,this._)},b.set=function(a,l){return f(a,this._,{configurable:!0,value:l}),this},g;function g(a){f(this,"_",{value:"_@ungap/weakmap"+i++}),a&&a.forEach(k,this)}function k(a){this.set(a[0],a[1])}}(Math.random(),Object)}const h=c.WeakMap},14(d){q$(d,{default:()=>h});var c=d||{};try{c.WeakMap=WeakMap}catch(o){c.WeakMap=function(i,e){"use strict";var f=e.defineProperty,j=e.hasOwnProperty,b=g.prototype;return b.delete=function(a){return this.has(a)&&delete a[this._]},b.get=function(a){return this.has(a)?a[this._]:void 0},b.has=function(a){return j.call(a,this._)},b.set=function(a,l){return f(a,this._,{configurable:!0,value:l}),this},g;function g(a){f(this,"_",{value:"_@ungap/weakmap"+i++}),a&&a.forEach(k,this)}function k(a){this.set(a[0],a[1])}}(Math.random(),Object)}const h=c.WeakMap}};return k$(23)})();
